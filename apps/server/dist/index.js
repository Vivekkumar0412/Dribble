"use strict";var zf=Object.create;var Ln=Object.defineProperty;var Xf=Object.getOwnPropertyDescriptor;var Zf=Object.getOwnPropertyNames;var eh=Object.getPrototypeOf,th=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),rh=(e,t)=>{for(var r in t)Ln(e,r,{get:t[r],enumerable:!0})},Cn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Zf(t))!th.call(e,i)&&i!==r&&Ln(e,i,{get:()=>t[i],enumerable:!(n=Xf(t,i))||n.enumerable});return e},bt=(e,t,r)=>(Cn(e,t,"default"),r&&Cn(r,t,"default")),lt=(e,t,r)=>(r=e!=null?zf(eh(e)):{},Cn(t||!e||!e.__esModule?Ln(r,"default",{value:e,enumerable:!0}):r,e));var Ys=y((bN,nh)=>{nh.exports={name:"dotenv",version:"17.2.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var ta=y((EN,Fe)=>{var Vn=require("fs"),xr=require("path"),ih=require("os"),sh=require("crypto"),ah=Ys(),Fn=ah.version,Qs=["\u{1F510} encrypt with Dotenvx: https://dotenvx.com","\u{1F510} prevent committing .env to code: https://dotenvx.com/precommit","\u{1F510} prevent building .env in docker: https://dotenvx.com/prebuild","\u{1F4E1} add observability to secrets: https://dotenvx.com/ops","\u{1F465} sync secrets across teammates & machines: https://dotenvx.com/ops","\u{1F5C2}\uFE0F backup and recover secrets: https://dotenvx.com/ops","\u2705 audit secrets and track compliance: https://dotenvx.com/ops","\u{1F504} add secrets lifecycle management: https://dotenvx.com/ops","\u{1F511} add access controls to secrets: https://dotenvx.com/ops","\u{1F6E0}\uFE0F  run anywhere with `dotenvx run -- yourcommand`","\u2699\uFE0F  specify custom .env file path with { path: '/custom/path/.env' }","\u2699\uFE0F  enable debug logging with { debug: true }","\u2699\uFE0F  override existing env vars with { override: true }","\u2699\uFE0F  suppress all logs with { quiet: true }","\u2699\uFE0F  write to custom object with { processEnv: myObject }","\u2699\uFE0F  load multiple .env files with { path: ['.env.local', '.env'] }"];function oh(){return Qs[Math.floor(Math.random()*Qs.length)]}function Et(e){return typeof e=="string"?!["false","0","no","off",""].includes(e.toLowerCase()):!!e}function lh(){return process.stdout.isTTY}function uh(e){return lh()?`\x1B[2m${e}\x1B[0m`:e}var ch=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function dh(e){let t={},r=e.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=ch.exec(r))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let a=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),t[i]=s}return t}function fh(e){e=e||{};let t=ea(e);e.path=t;let r=ee.configDotenv(e);if(!r.parsed){let a=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw a.code="MISSING_DATA",a}let n=Zs(e).split(","),i=n.length,s;for(let a=0;a<i;a++)try{let o=n[a].trim(),l=ph(r,o);s=ee.decrypt(l.ciphertext,l.key);break}catch(o){if(a+1>=i)throw o}return ee.parse(s)}function hh(e){console.error(`[dotenv@${Fn}][WARN] ${e}`)}function Ut(e){console.log(`[dotenv@${Fn}][DEBUG] ${e}`)}function Xs(e){console.log(`[dotenv@${Fn}] ${e}`)}function Zs(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function ph(e,t){let r;try{r=new URL(t)}catch(o){if(o.code==="ERR_INVALID_URL"){let l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw o}let n=r.password;if(!n){let o=new Error("INVALID_DOTENV_KEY: Missing key part");throw o.code="INVALID_DOTENV_KEY",o}let i=r.searchParams.get("environment");if(!i){let o=new Error("INVALID_DOTENV_KEY: Missing environment part");throw o.code="INVALID_DOTENV_KEY",o}let s=`DOTENV_VAULT_${i.toUpperCase()}`,a=e.parsed[s];if(!a){let o=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);throw o.code="NOT_FOUND_DOTENV_ENVIRONMENT",o}return{ciphertext:a,key:n}}function ea(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)Vn.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=xr.resolve(process.cwd(),".env.vault");return Vn.existsSync(t)?t:null}function zs(e){return e[0]==="~"?xr.join(ih.homedir(),e.slice(1)):e}function mh(e){let t=Et(process.env.DOTENV_CONFIG_DEBUG||e&&e.debug),r=Et(process.env.DOTENV_CONFIG_QUIET||e&&e.quiet);(t||!r)&&Xs("Loading env from encrypted .env.vault");let n=ee._parseVault(e),i=process.env;return e&&e.processEnv!=null&&(i=e.processEnv),ee.populate(i,n,e),{parsed:n}}function gh(e){let t=xr.resolve(process.cwd(),".env"),r="utf8",n=process.env;e&&e.processEnv!=null&&(n=e.processEnv);let i=Et(n.DOTENV_CONFIG_DEBUG||e&&e.debug),s=Et(n.DOTENV_CONFIG_QUIET||e&&e.quiet);e&&e.encoding?r=e.encoding:i&&Ut("No encoding is specified. UTF-8 is used by default");let a=[t];if(e&&e.path)if(!Array.isArray(e.path))a=[zs(e.path)];else{a=[];for(let c of e.path)a.push(zs(c))}let o,l={};for(let c of a)try{let d=ee.parse(Vn.readFileSync(c,{encoding:r}));ee.populate(l,d,e)}catch(d){i&&Ut(`Failed to load ${c} ${d.message}`),o=d}let u=ee.populate(n,l,e);if(i=Et(n.DOTENV_CONFIG_DEBUG||i),s=Et(n.DOTENV_CONFIG_QUIET||s),i||!s){let c=Object.keys(u).length,d=[];for(let f of a)try{let h=xr.relative(process.cwd(),f);d.push(h)}catch(h){i&&Ut(`Failed to load ${f} ${h.message}`),o=h}Xs(`injecting env (${c}) from ${d.join(",")} ${uh(`-- tip: ${oh()}`)}`)}return o?{parsed:l,error:o}:{parsed:l}}function yh(e){if(Zs(e).length===0)return ee.configDotenv(e);let t=ea(e);return t?ee._configVault(e):(hh(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),ee.configDotenv(e))}function wh(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),i=n.subarray(0,12),s=n.subarray(-16);n=n.subarray(12,-16);try{let a=sh.createDecipheriv("aes-256-gcm",r,i);return a.setAuthTag(s),`${a.update(n)}${a.final()}`}catch(a){let o=a instanceof RangeError,l=a.message==="Invalid key length",u=a.message==="Unsupported state or unable to authenticate data";if(o||l){let c=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw c.code="INVALID_DOTENV_KEY",c}else if(u){let c=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw c.code="DECRYPTION_FAILED",c}else throw a}}function vh(e,t,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override),s={};if(typeof t!="object"){let a=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw a.code="OBJECT_REQUIRED",a}for(let a of Object.keys(t))Object.prototype.hasOwnProperty.call(e,a)?(i===!0&&(e[a]=t[a],s[a]=t[a]),n&&Ut(i===!0?`"${a}" is already defined and WAS overwritten`:`"${a}" is already defined and was NOT overwritten`)):(e[a]=t[a],s[a]=t[a]);return s}var ee={configDotenv:gh,_configVault:mh,_parseVault:fh,config:yh,decrypt:wh,parse:dh,populate:vh};Fe.exports.configDotenv=ee.configDotenv;Fe.exports._configVault=ee._configVault;Fe.exports._parseVault=ee._parseVault;Fe.exports.config=ee.config;Fe.exports.decrypt=ee.decrypt;Fe.exports.parse=ee.parse;Fe.exports.populate=ee.populate;Fe.exports=ee});var na=y((SN,ra)=>{var ut={};process.env.DOTENV_CONFIG_ENCODING!=null&&(ut.encoding=process.env.DOTENV_CONFIG_ENCODING);process.env.DOTENV_CONFIG_PATH!=null&&(ut.path=process.env.DOTENV_CONFIG_PATH);process.env.DOTENV_CONFIG_QUIET!=null&&(ut.quiet=process.env.DOTENV_CONFIG_QUIET);process.env.DOTENV_CONFIG_DEBUG!=null&&(ut.debug=process.env.DOTENV_CONFIG_DEBUG);process.env.DOTENV_CONFIG_OVERRIDE!=null&&(ut.override=process.env.DOTENV_CONFIG_OVERRIDE);process.env.DOTENV_CONFIG_DOTENV_KEY!=null&&(ut.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY);ra.exports=ut});var sa=y((PN,ia)=>{var bh=/^dotenv_config_(encoding|path|quiet|debug|override|DOTENV_KEY)=(.+)$/;ia.exports=function(t){let r=t.reduce(function(n,i){let s=i.match(bh);return s&&(n[s[1]]=s[2]),n},{});return"quiet"in r||(r.quiet="true"),r}});var es=y((YN,ou)=>{"use strict";var Eh=Object.create,Wr=Object.defineProperty,Sh=Object.getOwnPropertyDescriptor,Ph=Object.getOwnPropertyNames,xh=Object.getPrototypeOf,Nh=Object.prototype.hasOwnProperty,za=(e,t)=>()=>(e&&(t=e(e=0)),t),we=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mt=(e,t)=>{for(var r in t)Wr(e,r,{get:t[r],enumerable:!0})},Xa=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ph(t))!Nh.call(e,i)&&i!==r&&Wr(e,i,{get:()=>t[i],enumerable:!(n=Sh(t,i))||n.enumerable});return e},M=(e,t,r)=>(r=e!=null?Eh(xh(e)):{},Xa(t||!e||!e.__esModule?Wr(r,"default",{value:e,enumerable:!0}):r,e)),$h=e=>Xa(Wr({},"__esModule",{value:!0}),e),Za=we((e,t)=>{"use strict";t.exports=(r,n=process.argv)=>{let i=r.startsWith("-")?"":r.length===1?"-":"--",s=n.indexOf(i+r),a=n.indexOf("--");return s!==-1&&(a===-1||s<a)}}),_h=we((e,t)=>{"use strict";var r=require("node:os"),n=require("node:tty"),i=Za(),{env:s}=process,a;i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in s&&(s.FORCE_COLOR==="true"?a=1:s.FORCE_COLOR==="false"?a=0:a=s.FORCE_COLOR.length===0?1:Math.min(parseInt(s.FORCE_COLOR,10),3));function o(c){return c===0?!1:{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3}}function l(c,d){if(a===0)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(c&&!d&&a===void 0)return 0;let f=a||0;if(s.TERM==="dumb")return f;if(process.platform==="win32"){let h=r.release().split(".");return Number(h[0])>=10&&Number(h[2])>=10586?Number(h[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(h=>h in s)||s.CI_NAME==="codeship"?1:f;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if(s.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in s){let h=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return h>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:f}function u(c){let d=l(c,c&&c.isTTY);return o(d)}t.exports={supportsColor:u,stdout:o(l(!0,n.isatty(1))),stderr:o(l(!0,n.isatty(2)))}}),Th=we((e,t)=>{"use strict";var r=_h(),n=Za();function i(a){if(/^\d{3,4}$/.test(a)){let l=/(\d{1,2})(\d{2})/.exec(a)||[];return{major:0,minor:parseInt(l[1],10),patch:parseInt(l[2],10)}}let o=(a||"").split(".").map(l=>parseInt(l,10));return{major:o[0],minor:o[1],patch:o[2]}}function s(a){let{CI:o,FORCE_HYPERLINK:l,NETLIFY:u,TEAMCITY_VERSION:c,TERM_PROGRAM:d,TERM_PROGRAM_VERSION:f,VTE_VERSION:h,TERM:g}=process.env;if(l)return!(l.length>0&&parseInt(l,10)===0);if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||u)return!0;if(!r.supportsColor(a)||a&&!a.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if(process.platform==="win32"||o||c)return!1;if(d){let m=i(f||"");switch(d){case"iTerm.app":return m.major===3?m.minor>=1:m.major>3;case"WezTerm":return m.major>=20200620;case"vscode":return m.major>1||m.major===1&&m.minor>=72;case"ghostty":return!0}}if(h){if(h==="0.50.0")return!1;let m=i(h);return m.major>0||m.minor>=50}return g==="alacritty"}t.exports={supportsHyperlink:s,stdout:s(process.stdout),stderr:s(process.stderr)}}),Rh=we((e,t)=>{t.exports={name:"@prisma/internals",version:"6.19.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-engine-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),eo=we((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"2ba551f319ab1df4bc874a89965d8b3641056773"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),Ti=we(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=eo().prisma.enginesVersion}),Oh=we((e,t)=>{"use strict";t.exports=r=>{let n=r.match(/^[ \t]*(?=\S)/gm);return n?n.reduce((i,s)=>Math.min(i,s.length),1/0):0}}),to=we((e,t)=>{"use strict";t.exports=(r,n=1,i)=>{if(i={indent:" ",includeEmptyLines:!1,...i},typeof r!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof r}\``);if(typeof n!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof n}\``);if(typeof i.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof i.indent}\``);if(n===0)return r;let s=i.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(s,i.indent.repeat(n))}}),Ah=we((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),Ih=we((e,t)=>{"use strict";var r=require("node:fs"),n=require("node:path"),i=require("node:os"),s=require("node:crypto"),a=Ah(),o=a.version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(w){let P={},$=w.toString();$=$.replace(/\r\n?/mg,`
`);let V;for(;(V=l.exec($))!=null;){let j=V[1],R=V[2]||"";R=R.trim();let k=R[0];R=R.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),k==='"'&&(R=R.replace(/\\n/g,`
`),R=R.replace(/\\r/g,"\r")),P[j]=R}return P}function c(w){let P=m(w),$=N.configDotenv({path:P});if(!$.parsed){let k=new Error(`MISSING_DATA: Cannot parse ${P} for an unknown reason`);throw k.code="MISSING_DATA",k}let V=h(w).split(","),j=V.length,R;for(let k=0;k<j;k++)try{let Y=V[k].trim(),F=g($,Y);R=N.decrypt(F.ciphertext,F.key);break}catch(Y){if(k+1>=j)throw Y}return N.parse(R)}function d(w){console.log(`[dotenv@${o}][WARN] ${w}`)}function f(w){console.log(`[dotenv@${o}][DEBUG] ${w}`)}function h(w){return w&&w.DOTENV_KEY&&w.DOTENV_KEY.length>0?w.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function g(w,P){let $;try{$=new URL(P)}catch(Y){if(Y.code==="ERR_INVALID_URL"){let F=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw F.code="INVALID_DOTENV_KEY",F}throw Y}let V=$.password;if(!V){let Y=new Error("INVALID_DOTENV_KEY: Missing key part");throw Y.code="INVALID_DOTENV_KEY",Y}let j=$.searchParams.get("environment");if(!j){let Y=new Error("INVALID_DOTENV_KEY: Missing environment part");throw Y.code="INVALID_DOTENV_KEY",Y}let R=`DOTENV_VAULT_${j.toUpperCase()}`,k=w.parsed[R];if(!k){let Y=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${R} in your .env.vault file.`);throw Y.code="NOT_FOUND_DOTENV_ENVIRONMENT",Y}return{ciphertext:k,key:V}}function m(w){let P=null;if(w&&w.path&&w.path.length>0)if(Array.isArray(w.path))for(let $ of w.path)r.existsSync($)&&(P=$.endsWith(".vault")?$:`${$}.vault`);else P=w.path.endsWith(".vault")?w.path:`${w.path}.vault`;else P=n.resolve(process.cwd(),".env.vault");return r.existsSync(P)?P:null}function A(w){return w[0]==="~"?n.join(i.homedir(),w.slice(1)):w}function q(w){w&&w.debug&&f("Loading env from encrypted .env.vault");let P=N._parseVault(w),$=process.env;return w&&w.processEnv!=null&&($=w.processEnv),N.populate($,P,w),{parsed:P}}function I(w){let P=n.resolve(process.cwd(),".env"),$="utf8",V=!!(w&&w.debug);w&&w.encoding?$=w.encoding:V&&f("No encoding is specified. UTF-8 is used by default");let j=[P];if(w&&w.path)if(!Array.isArray(w.path))j=[A(w.path)];else{j=[];for(let F of w.path)j.push(A(F))}let R,k={};for(let F of j)try{let D=N.parse(r.readFileSync(F,{encoding:$}));N.populate(k,D,w)}catch(D){V&&f(`Failed to load ${F} ${D.message}`),R=D}let Y=process.env;return w&&w.processEnv!=null&&(Y=w.processEnv),N.populate(Y,k,w),R?{parsed:k,error:R}:{parsed:k}}function O(w){if(h(w).length===0)return N.configDotenv(w);let P=m(w);return P?N._configVault(w):(d(`You set DOTENV_KEY but you are missing a .env.vault file at ${P}. Did you forget to build it?`),N.configDotenv(w))}function J(w,P){let $=Buffer.from(P.slice(-64),"hex"),V=Buffer.from(w,"base64"),j=V.subarray(0,12),R=V.subarray(-16);V=V.subarray(12,-16);try{let k=s.createDecipheriv("aes-256-gcm",$,j);return k.setAuthTag(R),`${k.update(V)}${k.final()}`}catch(k){let Y=k instanceof RangeError,F=k.message==="Invalid key length",D=k.message==="Unsupported state or unable to authenticate data";if(Y||F){let Mt=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw Mt.code="INVALID_DOTENV_KEY",Mt}else if(D){let Mt=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw Mt.code="DECRYPTION_FAILED",Mt}else throw k}}function me(w,P,$={}){let V=!!($&&$.debug),j=!!($&&$.override);if(typeof P!="object"){let R=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw R.code="OBJECT_REQUIRED",R}for(let R of Object.keys(P))Object.prototype.hasOwnProperty.call(w,R)?(j===!0&&(w[R]=P[R]),V&&f(j===!0?`"${R}" is already defined and WAS overwritten`:`"${R}" is already defined and was NOT overwritten`)):w[R]=P[R]}var N={configDotenv:I,_configVault:q,_parseVault:c,config:O,decrypt:J,parse:u,populate:me};t.exports.configDotenv=N.configDotenv,t.exports._configVault=N._configVault,t.exports._parseVault=N._parseVault,t.exports.config=N.config,t.exports.decrypt=N.decrypt,t.exports.parse=N.parse,t.exports.populate=N.populate,t.exports=N}),qh=we((e,t)=>{"use strict";t.exports=(r={})=>{let n;if(r.repoUrl)n=r.repoUrl;else if(r.user&&r.repo)n=`https://github.com/${r.user}/${r.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let i=new URL(`${n}/issues/new`),s=["body","title","labels","template","milestone","assignee","projects"];for(let a of s){let o=r[a];if(o!==void 0){if(a==="labels"||a==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${a}\` option should be an array`);o=o.join(",")}i.searchParams.set(a,o)}}return i.toString()},t.exports.default=t.exports}),ro=we((e,t)=>{"use strict";t.exports=(function(){function r(n,i,s,a,o){return n<i||s<i?n>s?s+1:n+1:a===o?i:i+1}return function(n,i){if(n===i)return 0;if(n.length>i.length){var s=n;n=i,i=s}for(var a=n.length,o=i.length;a>0&&n.charCodeAt(a-1)===i.charCodeAt(o-1);)a--,o--;for(var l=0;l<a&&n.charCodeAt(l)===i.charCodeAt(l);)l++;if(a-=l,o-=l,a===0||o<3)return o;var u=0,c,d,f,h,g,m,A,q,I,O,J,me,N=[];for(c=0;c<a;c++)N.push(c+1),N.push(n.charCodeAt(l+c));for(var w=N.length-1;u<o-3;)for(I=i.charCodeAt(l+(d=u)),O=i.charCodeAt(l+(f=u+1)),J=i.charCodeAt(l+(h=u+2)),me=i.charCodeAt(l+(g=u+3)),m=u+=4,c=0;c<w;c+=2)A=N[c],q=N[c+1],d=r(A,d,f,I,q),f=r(d,f,h,O,q),h=r(f,h,g,J,q),m=r(h,g,m,me,q),N[c]=m,g=h,h=f,f=d,d=A;for(;u<o;)for(I=i.charCodeAt(l+(d=u)),m=++u,c=0;c<w;c+=2)A=N[c],N[c]=m=r(A,d,m,I,N[c+1]),d=A;return m}})()}),Dh=za(()=>{"use strict"}),jh=za(()=>{"use strict"}),no={};mt(no,{DMMF:()=>Ho,Debug:()=>le,Decimal:()=>Zr,Extensions:()=>io,MetricsClient:()=>bl,PrismaClientInitializationError:()=>X,PrismaClientKnownRequestError:()=>rt,PrismaClientRustPanicError:()=>et,PrismaClientUnknownRequestError:()=>ge,PrismaClientValidationError:()=>Be,Public:()=>so,Sql:()=>st,createParam:()=>Fy,defineDmmfProperty:()=>zy,deserializeJsonResponse:()=>Kr,deserializeRawResult:()=>iu,dmmfToRuntimeDataModel:()=>Gm,empty:()=>s0,getPrismaClient:()=>Jv,getRuntime:()=>kl,join:()=>i0,makeStrictEnum:()=>zv,makeTypedQueryFactory:()=>Zy,objectEnumValues:()=>al,raw:()=>Pl,serializeJsonQuery:()=>yl,skip:()=>ml,sqltag:()=>a0,warnEnvConflicts:()=>Xv,warnOnce:()=>Ao});ou.exports=$h(no);var io={};mt(io,{defineExtension:()=>kh,getExtensionContext:()=>Ch});function kh(e){return typeof e=="function"?e:t=>t.$extends(e)}function Ch(e){return e}var so={};mt(so,{validator:()=>Lh});function Lh(...e){return t=>t}var zn={};mt(zn,{$:()=>co,bgBlack:()=>Jh,bgBlue:()=>Xh,bgCyan:()=>ep,bgGreen:()=>Qh,bgMagenta:()=>Zh,bgRed:()=>Yh,bgWhite:()=>tp,bgYellow:()=>zh,black:()=>Gh,blue:()=>Wt,bold:()=>xe,cyan:()=>ft,dim:()=>ar,gray:()=>Ri,green:()=>Zt,grey:()=>Wh,hidden:()=>Uh,inverse:()=>Mh,italic:()=>Fh,magenta:()=>Hh,red:()=>ht,reset:()=>Vh,strikethrough:()=>Bh,underline:()=>ye,white:()=>Kh,yellow:()=>or});var Xn,ao,oo,lo,uo=!0;typeof process<"u"&&({FORCE_COLOR:Xn,NODE_DISABLE_COLORS:ao,NO_COLOR:oo,TERM:lo}=process.env||{},uo=process.stdout&&process.stdout.isTTY);var co={enabled:!ao&&oo==null&&lo!=="dumb"&&(Xn!=null&&Xn!=="0"||uo)};function B(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(s){return!co.enabled||s==null?s:n+(~(""+s).indexOf(i)?s.replace(r,i+n):s)+i}}var Vh=B(0,0),xe=B(1,22),ar=B(2,22),Fh=B(3,23),ye=B(4,24),Mh=B(7,27),Uh=B(8,28),Bh=B(9,29),Gh=B(30,39),ht=B(31,39),Zt=B(32,39),or=B(33,39),Wt=B(34,39),Hh=B(35,39),ft=B(36,39),Kh=B(37,39),Ri=B(90,39),Wh=B(90,39),Jh=B(40,49),Yh=B(41,49),Qh=B(42,49),zh=B(43,49),Xh=B(44,49),Zh=B(45,49),ep=B(46,49),tp=B(47,49),rp=100,aa=["green","yellow","blue","magenta","cyan","red"],Jt=[],oa=Date.now(),np=0,Zn=typeof process<"u"?process.env:{};globalThis.DEBUG??=Zn.DEBUG??"";globalThis.DEBUG_COLORS??=Zn.DEBUG_COLORS?Zn.DEBUG_COLORS==="true":!0;var Yt={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function ip(e){let t={color:aa[np++%aa.length],enabled:Yt.enabled(e),namespace:e,log:Yt.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:s,color:a,log:o}=t;if(n.length!==0&&Jt.push([s,...n]),Jt.length>rp&&Jt.shift(),Yt.enabled(s)||i){let l=n.map(c=>typeof c=="string"?c:sp(c)),u=`+${Date.now()-oa}ms`;oa=Date.now(),globalThis.DEBUG_COLORS?o(zn[a](xe(s)),...l,zn[a](u)):o(s,...l,u)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,s)=>t[i]=s})}var le=new Proxy(ip,{get:(e,t)=>Yt[t],set:(e,t,r)=>Yt[t]=r});function sp(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function ap(e=7500){let t=Jt.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function op(){Jt.length=0}var Oi=le,lp=M(require("node:fs"));function up(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&lp.default.existsSync(e))&&process.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var cp=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],Nr="libquery_engine";function dp(e,t){let r=t==="url";return e.includes("windows")?r?"query_engine.dll.node":`query_engine-${e}.dll.node`:e.includes("darwin")?r?`${Nr}.dylib.node`:`${Nr}-${e}.dylib.node`:r?`${Nr}.so.node`:`${Nr}-${e}.so.node`}var fp=M(require("node:child_process")),fo=M(require("node:fs/promises")),ei=M(require("node:os")),He=Symbol.for("@ts-pattern/matcher"),hp=Symbol.for("@ts-pattern/isVariadic"),Vr="@ts-pattern/anonymous-select-key",ti=e=>!!(e&&typeof e=="object"),Ar=e=>e&&!!e[He],Ie=(e,t,r)=>{if(Ar(e)){let n=e[He](),{matched:i,selections:s}=n.match(t);return i&&s&&Object.keys(s).forEach(a=>r(a,s[a])),i}if(ti(e)){if(!ti(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],i=[],s=[];for(let a of e.keys()){let o=e[a];Ar(o)&&o[hp]?s.push(o):s.length?i.push(o):n.push(o)}if(s.length){if(s.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+i.length)return!1;let a=t.slice(0,n.length),o=i.length===0?[]:t.slice(-i.length),l=t.slice(n.length,i.length===0?1/0:-i.length);return n.every((u,c)=>Ie(u,a[c],r))&&i.every((u,c)=>Ie(u,o[c],r))&&(s.length===0||Ie(s[0],l,r))}return e.length===t.length&&e.every((a,o)=>Ie(a,t[o],r))}return Reflect.ownKeys(e).every(n=>{let i=e[n];return(n in t||Ar(s=i)&&s[He]().matcherType==="optional")&&Ie(i,t[n],r);var s})}return Object.is(t,e)},tt=e=>{var t,r,n;return ti(e)?Ar(e)?(t=(r=(n=e[He]()).getSelectionKeys)==null?void 0:r.call(n))!=null?t:[]:Array.isArray(e)?er(e,tt):er(Object.values(e),tt):[]},er=(e,t)=>e.reduce((r,n)=>r.concat(t(n)),[]);function ve(e){return Object.assign(e,{optional:()=>pp(e),and:t=>Q(e,t),or:t=>mp(e,t),select:t=>t===void 0?la(e):la(t,e)})}function pp(e){return ve({[He]:()=>({match:t=>{let r={},n=(i,s)=>{r[i]=s};return t===void 0?(tt(e).forEach(i=>n(i,void 0)),{matched:!0,selections:r}):{matched:Ie(e,t,n),selections:r}},getSelectionKeys:()=>tt(e),matcherType:"optional"})})}function Q(...e){return ve({[He]:()=>({match:t=>{let r={},n=(i,s)=>{r[i]=s};return{matched:e.every(i=>Ie(i,t,n)),selections:r}},getSelectionKeys:()=>er(e,tt),matcherType:"and"})})}function mp(...e){return ve({[He]:()=>({match:t=>{let r={},n=(i,s)=>{r[i]=s};return er(e,tt).forEach(i=>n(i,void 0)),{matched:e.some(i=>Ie(i,t,n)),selections:r}},getSelectionKeys:()=>er(e,tt),matcherType:"or"})})}function C(e){return{[He]:()=>({match:t=>({matched:!!e(t)})})}}function la(...e){let t=typeof e[0]=="string"?e[0]:void 0,r=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return ve({[He]:()=>({match:n=>{let i={[t??Vr]:n};return{matched:r===void 0||Ie(r,n,(s,a)=>{i[s]=a}),selections:i}},getSelectionKeys:()=>[t??Vr].concat(r===void 0?[]:tt(r))})})}function Re(e){return typeof e=="number"}function Je(e){return typeof e=="string"}function Ye(e){return typeof e=="bigint"}var xN=ve(C(function(e){return!0})),Qe=e=>Object.assign(ve(e),{startsWith:t=>{return Qe(Q(e,(r=t,C(n=>Je(n)&&n.startsWith(r)))));var r},endsWith:t=>{return Qe(Q(e,(r=t,C(n=>Je(n)&&n.endsWith(r)))));var r},minLength:t=>Qe(Q(e,(r=>C(n=>Je(n)&&n.length>=r))(t))),length:t=>Qe(Q(e,(r=>C(n=>Je(n)&&n.length===r))(t))),maxLength:t=>Qe(Q(e,(r=>C(n=>Je(n)&&n.length<=r))(t))),includes:t=>{return Qe(Q(e,(r=t,C(n=>Je(n)&&n.includes(r)))));var r},regex:t=>{return Qe(Q(e,(r=t,C(n=>Je(n)&&!!n.match(r)))));var r}}),NN=Qe(C(Je)),Oe=e=>Object.assign(ve(e),{between:(t,r)=>Oe(Q(e,((n,i)=>C(s=>Re(s)&&n<=s&&i>=s))(t,r))),lt:t=>Oe(Q(e,(r=>C(n=>Re(n)&&n<r))(t))),gt:t=>Oe(Q(e,(r=>C(n=>Re(n)&&n>r))(t))),lte:t=>Oe(Q(e,(r=>C(n=>Re(n)&&n<=r))(t))),gte:t=>Oe(Q(e,(r=>C(n=>Re(n)&&n>=r))(t))),int:()=>Oe(Q(e,C(t=>Re(t)&&Number.isInteger(t)))),finite:()=>Oe(Q(e,C(t=>Re(t)&&Number.isFinite(t)))),positive:()=>Oe(Q(e,C(t=>Re(t)&&t>0))),negative:()=>Oe(Q(e,C(t=>Re(t)&&t<0)))}),$N=Oe(C(Re)),ze=e=>Object.assign(ve(e),{between:(t,r)=>ze(Q(e,((n,i)=>C(s=>Ye(s)&&n<=s&&i>=s))(t,r))),lt:t=>ze(Q(e,(r=>C(n=>Ye(n)&&n<r))(t))),gt:t=>ze(Q(e,(r=>C(n=>Ye(n)&&n>r))(t))),lte:t=>ze(Q(e,(r=>C(n=>Ye(n)&&n<=r))(t))),gte:t=>ze(Q(e,(r=>C(n=>Ye(n)&&n>=r))(t))),positive:()=>ze(Q(e,C(t=>Ye(t)&&t>0))),negative:()=>ze(Q(e,C(t=>Ye(t)&&t<0)))}),_N=ze(C(Ye)),TN=ve(C(function(e){return typeof e=="boolean"})),RN=ve(C(function(e){return typeof e=="symbol"})),ON=ve(C(function(e){return e==null})),AN=ve(C(function(e){return e!=null})),gp=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},ri={matched:!1,value:void 0};function Jr(e){return new yp(e,ri)}var yp=class ni{constructor(t,r){this.input=void 0,this.state=void 0,this.input=t,this.state=r}with(...t){if(this.state.matched)return this;let r=t[t.length-1],n=[t[0]],i;t.length===3&&typeof t[1]=="function"?i=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let s=!1,a={},o=(u,c)=>{s=!0,a[u]=c},l=!n.some(u=>Ie(u,this.input,o))||i&&!i(this.input)?ri:{matched:!0,value:r(s?Vr in a?a[Vr]:a:this.input,this.input)};return new ni(this.input,l)}when(t,r){if(this.state.matched)return this;let n=!!t(this.input);return new ni(this.input,n?{matched:!0,value:r(this.input,this.input)}:ri)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new gp(this.input)}run(){return this.exhaustive()}returnType(){return this}},wp=require("node:util"),vp={warn:or("prisma:warn")},bp={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Mn(e,...t){bp.warn()&&console.warn(`${vp.warn} ${e}`,...t)}var Ep=(0,wp.promisify)(fp.default.exec),oe=Oi("prisma:get-platform"),Sp=["1.0.x","1.1.x","3.0.x"];async function Pp(){let e=ei.default.platform(),t=process.arch;if(e==="freebsd"){let a=await Fr("freebsd-version");if(a&&a.trim().length>0){let o=/^(\d+)\.?/.exec(a);if(o)return{platform:"freebsd",targetDistro:`freebsd${o[1]}`,arch:t}}}if(e!=="linux")return{platform:e,arch:t};let r=await Np(),n=await Dp(),i=_p({arch:t,archFromUname:n,familyDistro:r.familyDistro}),{libssl:s}=await Tp(i);return{platform:"linux",libssl:s,arch:t,archFromUname:n,...r}}function xp(e){let t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),i=n&&n[1]&&n[1].toLowerCase()||"",s=r.exec(e),a=s&&s[1]&&s[1].toLowerCase()||"",o=Jr({id:i,idLike:a}).with({id:"alpine"},({id:l})=>({targetDistro:"musl",familyDistro:l,originalDistro:l})).with({id:"raspbian"},({id:l})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:l})).with({id:"nixos"},({id:l})=>({targetDistro:"nixos",originalDistro:l,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:l})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:l})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:l})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:l})).when(({idLike:l})=>l.includes("debian")||l.includes("ubuntu"),({id:l})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:l})).when(({idLike:l})=>i==="arch"||l.includes("arch"),({id:l})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:l})).when(({idLike:l})=>l.includes("centos")||l.includes("fedora")||l.includes("rhel")||l.includes("suse"),({id:l})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:l})).otherwise(({id:l})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:l}));return oe(`Found distro info:
${JSON.stringify(o,null,2)}`),o}async function Np(){let e="/etc/os-release";try{let t=await fo.default.readFile(e,{encoding:"utf-8"});return xp(t)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function $p(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t){let r=`${t[1]}.x`;return ho(r)}}function ua(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t){let r=`${t[1]}${t[2]??".0"}.x`;return ho(r)}}function ho(e){let t=(()=>{if(mo(e))return e;let r=e.split(".");return r[1]="0",r.join(".")})();if(Sp.includes(t))return t}function _p(e){return Jr(e).with({familyDistro:"musl"},()=>(oe('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:t})=>(oe('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${t}-linux-gnu`,`/lib/${t}-linux-gnu`])).with({familyDistro:"rhel"},()=>(oe('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:t,arch:r,archFromUname:n})=>(oe(`Don't know any platform-specific paths for "${t}" on ${r} (${n})`),[]))}async function Tp(e){let t='grep -v "libssl.so.0"',r=await ca(e);if(r){oe(`Found libssl.so file using platform-specific paths: ${r}`);let s=ua(r);if(oe(`The parsed libssl version is: ${s}`),s)return{libssl:s,strategy:"libssl-specific-path"}}oe('Falling back to "ldconfig" and other generic paths');let n=await Fr(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${t}`);if(n||(n=await ca(["/lib64","/usr/lib64","/lib","/usr/lib"])),n){oe(`Found libssl.so file using "ldconfig" or other generic paths: ${n}`);let s=ua(n);if(oe(`The parsed libssl version is: ${s}`),s)return{libssl:s,strategy:"ldconfig"}}let i=await Fr("openssl version -v");if(i){oe(`Found openssl binary with version: ${i}`);let s=$p(i);if(oe(`The parsed openssl version is: ${s}`),s)return{libssl:s,strategy:"openssl-binary"}}return oe("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function ca(e){for(let t of e){let r=await Rp(t);if(r)return r}}async function Rp(e){try{return(await fo.default.readdir(e)).find(t=>t.startsWith("libssl.so.")&&!t.startsWith("libssl.so.0"))}catch(t){if(t.code==="ENOENT")return;throw t}}async function Ai(){let{binaryTarget:e}=await po();return e}function Op(e){return e.binaryTarget!==void 0}async function Ap(){let{memoized:e,...t}=await po();return t}var $r={};async function po(){if(Op($r))return Promise.resolve({...$r,memoized:!0});let e=await Pp(),t=Ip(e);return $r={...e,binaryTarget:t},{...$r,memoized:!1}}function Ip(e){let{platform:t,arch:r,archFromUname:n,libssl:i,targetDistro:s,familyDistro:a,originalDistro:o}=e;t==="linux"&&!["x64","arm64"].includes(r)&&Mn(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let l="1.1.x";if(t==="linux"&&i===void 0){let c=Jr({familyDistro:a}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");Mn(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${c}`)}let u="debian";if(t==="linux"&&s===void 0&&oe(`Distro is "${o}". Falling back to Prisma engines built for "${u}".`),t==="darwin"&&r==="arm64")return"darwin-arm64";if(t==="darwin")return"darwin";if(t==="win32")return"windows";if(t==="freebsd")return s;if(t==="openbsd")return"openbsd";if(t==="netbsd")return"netbsd";if(t==="linux"&&s==="nixos")return"linux-nixos";if(t==="linux"&&r==="arm64")return`${s==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if(t==="linux"&&r==="arm")return`linux-arm-openssl-${i||l}`;if(t==="linux"&&s==="musl"){let c="linux-musl";return!i||mo(i)?c:`${c}-openssl-${i}`}return t==="linux"&&s&&i?`${s}-openssl-${i}`:(t!=="linux"&&Mn(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${u}-openssl-${i}`:s?`${s}-openssl-${l}`:`${u}-openssl-${l}`)}async function qp(e){try{return await e()}catch{return}}function Fr(e){return qp(async()=>{let t=await Ep(e);return oe(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function Dp(){return typeof ei.default.machine=="function"?ei.default.machine():(await Fr("uname -m"))?.trim()}function mo(e){return e.startsWith("1.")}var go={};mt(go,{beep:()=>am,clearScreen:()=>rm,clearTerminal:()=>nm,cursorBackward:()=>Mp,cursorDown:()=>Vp,cursorForward:()=>Fp,cursorGetPosition:()=>Gp,cursorHide:()=>Wp,cursorLeft:()=>vo,cursorMove:()=>Lp,cursorNextLine:()=>Hp,cursorPrevLine:()=>Kp,cursorRestorePosition:()=>Bp,cursorSavePosition:()=>Up,cursorShow:()=>Jp,cursorTo:()=>Cp,cursorUp:()=>wo,enterAlternativeScreen:()=>im,eraseDown:()=>Xp,eraseEndLine:()=>Qp,eraseLine:()=>bo,eraseLines:()=>Yp,eraseScreen:()=>ii,eraseStartLine:()=>zp,eraseUp:()=>Zp,exitAlternativeScreen:()=>sm,iTerm:()=>um,image:()=>lm,link:()=>om,scrollDown:()=>tm,scrollUp:()=>em});var Ii=M(require("node:process"),1),qi=globalThis.window?.document!==void 0,IN=globalThis.process?.versions?.node!==void 0,qN=globalThis.process?.versions?.bun!==void 0,DN=globalThis.Deno?.version?.deno!==void 0,jN=globalThis.process?.versions?.electron!==void 0,kN=globalThis.navigator?.userAgent?.includes("jsdom")===!0,CN=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,LN=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,VN=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,FN=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,lr=globalThis.navigator?.userAgentData?.platform,MN=lr==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",UN=lr==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",BN=lr==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",GN=lr==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),HN=lr==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",L="\x1B[",tr="\x1B]",Nt="\x07",Ht=";",yo=!qi&&Ii.default.env.TERM_PROGRAM==="Apple_Terminal",jp=!qi&&Ii.default.platform==="win32",kp=qi?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Ii.default.cwd,Cp=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?L+(e+1)+"G":L+(t+1)+Ht+(e+1)+"H"},Lp=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=L+-e+"D":e>0&&(r+=L+e+"C"),t<0?r+=L+-t+"A":t>0&&(r+=L+t+"B"),r},wo=(e=1)=>L+e+"A",Vp=(e=1)=>L+e+"B",Fp=(e=1)=>L+e+"C",Mp=(e=1)=>L+e+"D",vo=L+"G",Up=yo?"\x1B7":L+"s",Bp=yo?"\x1B8":L+"u",Gp=L+"6n",Hp=L+"E",Kp=L+"F",Wp=L+"?25l",Jp=L+"?25h",Yp=e=>{let t="";for(let r=0;r<e;r++)t+=bo+(r<e-1?wo():"");return e&&(t+=vo),t},Qp=L+"K",zp=L+"1K",bo=L+"2K",Xp=L+"J",Zp=L+"1J",ii=L+"2J",em=L+"S",tm=L+"T",rm="\x1Bc",nm=jp?`${ii}${L}0f`:`${ii}${L}3J${L}H`,im=L+"?1049h",sm=L+"?1049l",am=Nt,om=(e,t)=>[tr,"8",Ht,Ht,t,Nt,e,tr,"8",Ht,Ht,Nt].join(""),lm=(e,t={})=>{let r=`${tr}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+Nt},um={setCwd:(e=kp())=>`${tr}50;CurrentDir=${e}${Nt}`,annotation(e,t={}){let r=`${tr}1337;`,n=t.x!==void 0,i=t.y!==void 0;if((n||i)&&!(n&&i&&t.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Nt}},Di=M(Th(),1);function rr(e,t,{target:r="stdout",...n}={}){return Di.default[r]?go.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (\u200B${t}\u200B)`}rr.isSupported=Di.default.stdout;rr.stderr=(e,t,r={})=>rr(e,t,{target:"stderr",...r});rr.stderr.isSupported=Di.default.stderr;function cm(e){return rr(e,e,{fallback:ye})}var dm=Rh(),fm=dm.version;function si(e){return hm()||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":pm())}function hm(){let e=process.env.PRISMA_CLIENT_ENGINE_TYPE;return e==="library"?"library":e==="binary"?"binary":e==="client"?"client":void 0}function pm(){return"library"}function Eo(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}function ji(e){return{ok:!0,value:e,map(t){return ji(t(e))},flatMap(t){return t(e)}}}function $t(e){return{ok:!1,error:e,map(){return $t(e)},flatMap(){return $t(e)}}}var So=le("driver-adapter-utils"),mm=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;this.registeredErrors[t]!==void 0;)t++;return this.registeredErrors[t]={error:e},t}},da=(e,t=new mm)=>{let r={adapterName:e.adapterName,errorRegistry:t,queryRaw:Ue(t,e.queryRaw.bind(e)),executeRaw:Ue(t,e.executeRaw.bind(e)),executeScript:Ue(t,e.executeScript.bind(e)),dispose:Ue(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...n)=>(await Ue(t,e.startTransaction.bind(e))(...n)).map(i=>gm(t,i))};return e.getConnectionInfo&&(r.getConnectionInfo=ym(t,e.getConnectionInfo.bind(e))),r},gm=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:Ue(e,t.queryRaw.bind(t)),executeRaw:Ue(e,t.executeRaw.bind(t)),commit:Ue(e,t.commit.bind(t)),rollback:Ue(e,t.rollback.bind(t))});function Ue(e,t){return async(...r)=>{try{return ji(await t(...r))}catch(n){if(So("[error@wrapAsync]",n),Eo(n))return $t(n.cause);let i=e.registerNewError(n);return $t({kind:"GenericJs",id:i})}}}function ym(e,t){return(...r)=>{try{return ji(t(...r))}catch(n){if(So("[error@wrapSync]",n),Eo(n))return $t(n.cause);let i=e.registerNewError(n);return $t({kind:"GenericJs",id:i})}}}var KN=M(Ti()),K=M(require("node:path")),WN=M(Ti()),JN=le("prisma:engines");function wm(){return K.default.join(__dirname,"../")}K.default.join(__dirname,"../query-engine-darwin");K.default.join(__dirname,"../query-engine-darwin-arm64");K.default.join(__dirname,"../query-engine-debian-openssl-1.0.x");K.default.join(__dirname,"../query-engine-debian-openssl-1.1.x");K.default.join(__dirname,"../query-engine-debian-openssl-3.0.x");K.default.join(__dirname,"../query-engine-linux-static-x64");K.default.join(__dirname,"../query-engine-linux-static-arm64");K.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x");K.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x");K.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x");K.default.join(__dirname,"../libquery_engine-darwin.dylib.node");K.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");K.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");K.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");K.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");K.default.join(__dirname,"../libquery_engine-linux-musl.so.node");K.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");K.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");K.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");K.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");K.default.join(__dirname,"../query_engine-windows.dll.node");var fa=M(require("node:fs")),ha=Oi("chmodPlusX");function vm(e){if(process.platform==="win32")return;let t=fa.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){ha(`Execution permissions of ${e} are fine`);return}let n=r.toString(8).slice(-3);ha(`Have to call chmodPlusX on ${e}`),fa.default.chmodSync(e,n)}function bm(e){let t=e.e,r=o=>`Prisma cannot find the required \`${o}\` system library in your system`,n=t.message.includes("cannot open shared object file"),i=`Please refer to the documentation about Prisma's system requirements: ${cm("https://pris.ly/d/system-requirements")}`,s=`Unable to require(\`${ar(e.id)}\`).`,a=Jr({message:t.message,code:t.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:o})=>n&&o.includes("libz"),()=>`${r("libz")}. Please install it and try again.`).when(({message:o})=>n&&o.includes("libgcc_s"),()=>`${r("libgcc_s")}. Please install it and try again.`).when(({message:o})=>n&&o.includes("libssl"),()=>{let o=e.platformInfo.libssl?`openssl-${e.platformInfo.libssl}`:"openssl";return`${r("libssl")}. Please install ${o} and try again.`}).when(({message:o})=>o.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${i}`).when(({message:o})=>e.platformInfo.platform==="linux"&&o.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${e.platformInfo.originalDistro} on (${e.platformInfo.archFromUname}) which uses the \`${e.platformInfo.binaryTarget}\` binaryTarget by default. ${i}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${i}`);return`${s}
${a}

Details: ${t.message}`}var Em=M(Oh(),1);function Sm(e){let t=(0,Em.default)(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}var Pm="prisma+postgres",Po=`${Pm}:`;function xo(e){return e?.toString().startsWith(`${Po}//`)??!1}function xm(e){if(!xo(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Nm=M(to());function $m(e){return String(new _m(e))}var _m=class{constructor(e){this.config=e}toString(){let{config:e}=this,t=e.provider.fromEnvVar?`env("${e.provider.fromEnvVar}")`:e.provider.value,r=JSON.parse(JSON.stringify({provider:t,binaryTargets:Tm(e.binaryTargets)}));return`generator ${e.name} {
${(0,Nm.default)(Rm(r),2)}
}`}};function Tm(e){let t;if(e.length>0){let r=e.find(n=>n.fromEnvVar!==null);r?t=`env("${r.fromEnvVar}")`:t=e.map(n=>n.native?"native":n.value)}else t=void 0;return t}function Rm(e){let t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${Om(n)}`).join(`
`)}function Om(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}var ai={};mt(ai,{error:()=>qm,info:()=>Im,log:()=>Am,query:()=>Dm,should:()=>No,tags:()=>ur,warn:()=>$o});var ur={error:ht("prisma:error"),warn:or("prisma:warn"),info:ft("prisma:info"),query:Wt("prisma:query")},No={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Am(...e){console.log(...e)}function $o(e,...t){No.warn()&&console.warn(`${ur.warn} ${e}`,...t)}function Im(e,...t){console.info(`${ur.info} ${e}`,...t)}function qm(e,...t){console.error(`${ur.error} ${e}`,...t)}function Dm(e,...t){console.log(`${ur.query} ${e}`,...t)}function pa(e,t){if(!e)throw new Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function ki(e,t){throw new Error(t)}function jm({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var km=jm();function oi(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(km,"")}var _r=M(require("node:path"));function Cm(e){return _r.default.sep===_r.default.posix.sep?e:e.split(_r.default.sep).join(_r.default.posix.sep)}var _o=M(Ih()),li=M(require("node:fs")),nr=M(require("node:path"));function Lm(e){let t=e.ignoreProcessEnv?{}:process.env,r=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(i,s){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(s);if(!a)return i;let o=a[1],l,u;if(o==="\\")u=a[0],l=u.replace("\\$","$");else{let c=a[2];u=a[0].substring(o.length),l=Object.hasOwnProperty.call(t,c)?t[c]:e.parsed[c]||"",l=r(l)}return i.replace(u,l)},n)??n;for(let n in e.parsed){let i=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=r(i)}for(let n in e.parsed)t[n]=e.parsed[n];return e}var ui=Oi("prisma:tryLoadEnv");function To({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let n=ma(e);r.conflictCheck!=="none"&&Vm(n,t,r.conflictCheck);let i=null;return Ro(n?.path,t)||(i=ma(t)),!n&&!i&&ui("No Environment variables loaded"),i?.dotenvResult.error?console.error(ht(xe("Schema Env Error: "))+i.dotenvResult.error):{message:[n?.message,i?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function Vm(e,t,r){let n=e?.dotenvResult.parsed,i=!Ro(e?.path,t);if(n&&t&&i&&li.default.existsSync(t)){let s=_o.default.parse(li.default.readFileSync(t)),a=[];for(let o in s)n[o]===s[o]&&a.push(o);if(a.length>0){let o=nr.default.relative(process.cwd(),e.path),l=nr.default.relative(process.cwd(),t);if(r==="error"){let u=`There is a conflict between env var${a.length>1?"s":""} in ${ye(o)} and ${ye(l)}
Conflicting env vars:
${a.map(c=>`  ${xe(c)}`).join(`
`)}

We suggest to move the contents of ${ye(l)} to ${ye(o)} to consolidate your env vars.
`;throw new Error(u)}else if(r==="warn"){let u=`Conflict for env var${a.length>1?"s":""} ${a.map(c=>xe(c)).join(", ")} in ${ye(o)} and ${ye(l)}
Env vars from ${ye(l)} overwrite the ones from ${ye(o)}
      `;console.warn(`${or("warn(prisma)")} ${u}`)}}}}function ma(e){if(Fm(e)){ui(`Environment variables loaded from ${e}`);let t=_o.default.config({path:e,debug:process.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:Lm(t),message:ar(`Environment variables loaded from ${nr.default.relative(process.cwd(),e)}`),path:e}}else ui(`Environment variables not found at ${e}`);return null}function Ro(e,t){return e&&t&&nr.default.resolve(e)===nr.default.resolve(t)}function Fm(e){return!!(e&&li.default.existsSync(e))}function Mm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Oo(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Um(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function z(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var ga=new Set,Ao=(e,t,...r)=>{ga.has(e)||(ga.add(e),$o(t,...r))},X=class Io extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(Io)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};z(X,"PrismaClientInitializationError");var rt=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};z(rt,"PrismaClientKnownRequestError");var et=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};z(et,"PrismaClientRustPanicError");var ge=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};z(ge,"PrismaClientUnknownRequestError");var Be=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};z(Be,"PrismaClientValidationError");var Qt=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function Yr(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function Bm(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}function ci(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function Gm(e){return{models:Un(e.models),enums:Un(e.enums),types:Un(e.types)}}function Un(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function Ci(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function qo(e){return e.toString()!=="Invalid Date"}var xt=9e15,it=1e9,di="0123456789abcdef",Mr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ur="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",fi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-xt,maxE:xt,crypto:!1},Do,Ge,x=!0,Qr="[DecimalError] ",nt=Qr+"Invalid argument: ",jo=Qr+"Precision limit exceeded",ko=Qr+"crypto unavailable",Co="[object Decimal]",ne=Math.floor,te=Math.pow,Hm=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Km=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Wm=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Lo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ne=1e7,S=7,Jm=9007199254740991,Ym=Mr.length-1,hi=Ur.length-1,p={toStringTag:Co};p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),E(e)};p.ceil=function(){return E(new this.constructor(this),this.e+1,2)};p.clampedTo=p.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(nt+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};p.comparedTo=p.cmp=function(e){var t,r,n,i,s=this,a=s.d,o=(e=new s.constructor(e)).d,l=s.s,u=e.s;if(!a||!o)return!l||!u?NaN:l!==u?l:a===o?0:!a^l<0?1:-1;if(!a[0]||!o[0])return a[0]?l:o[0]?-u:0;if(l!==u)return l;if(s.e!==e.e)return s.e>e.e^l<0?1:-1;for(n=a.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};p.cosine=p.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+S,n.rounding=1,r=Qm(n,Bo(n,r)),n.precision=e,n.rounding=t,E(Ge==2||Ge==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};p.cubeRoot=p.cbrt=function(){var e,t,r,n,i,s,a,o,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(x=!1,s=c.s*te(c.s*c,1/3),!s||Math.abs(s)==1/0?(r=re(c.d),e=c.e,(s=(e-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=te(r,1/3),e=ne((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new d(r),n.s=c.s):n=new d(s.toString()),a=(e=d.precision)+3;;)if(o=n,l=o.times(o).times(o),u=l.plus(c),n=U(u.plus(c).times(o),u.plus(l),a+2,1),re(o.d).slice(0,a)===(r=re(n.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!i&&r=="4999"){if(!i&&(E(o,e+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(E(n,e+1,1),t=!n.times(n).times(n).eq(c));break}return x=!0,E(n,e,d.rounding,t)};p.decimalPlaces=p.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-ne(this.e/S))*S,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};p.dividedBy=p.div=function(e){return U(this,new this.constructor(e))};p.dividedToIntegerBy=p.divToInt=function(e){var t=this,r=t.constructor;return E(U(t,new r(e),0,1,1),r.precision,r.rounding)};p.equals=p.eq=function(e){return this.cmp(e)===0};p.floor=function(){return E(new this.constructor(this),this.e+1,3)};p.greaterThan=p.gt=function(e){return this.cmp(e)>0};p.greaterThanOrEqualTo=p.gte=function(e){var t=this.cmp(e);return t==1||t===0};p.hyperbolicCosine=p.cosh=function(){var e,t,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,i=s.d.length,i<32?(e=Math.ceil(i/3),t=(1/Xr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=_t(a,1,s.times(t),new a(1),!0);for(var l,u=e,c=new a(8);u--;)l=s.times(s),s=o.minus(l.times(c.minus(l.times(c))));return E(s,a.precision=r,a.rounding=n,!0)};p.hyperbolicSine=p.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=_t(s,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Xr(5,e)),i=_t(s,2,i,i,!0);for(var a,o=new s(5),l=new s(16),u=new s(20);e--;)a=i.times(i),i=i.times(o.plus(a.times(l.times(a).plus(u))))}return s.precision=t,s.rounding=r,E(i,t,r,!0)};p.hyperbolicTangent=p.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,U(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};p.inverseCosine=p.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?qe(t,n,i):new t(0):new t(NaN):e.isZero()?qe(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};p.inverseHyperbolicCosine=p.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,x=!1,r=r.times(r).minus(1).sqrt().plus(r),x=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};p.inverseHyperbolicSine=p.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,x=!1,r=r.times(r).plus(1).sqrt().plus(r),x=!0,n.precision=e,n.rounding=t,r.ln())};p.inverseHyperbolicTangent=p.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?E(new s(i),e,t,!0):(s.precision=r=n-i.e,i=U(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5))):new s(NaN)};p.inverseSine=p.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,t!==-1?t===0?(e=qe(s,r+4,n).times(.5),e.s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))};p.inverseTangent=p.atan=function(){var e,t,r,n,i,s,a,o,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=hi)return a=qe(c,d+4,f).times(.25),a.s=u.s,a}else{if(!u.s)return new c(NaN);if(d+4<=hi)return a=qe(c,d+4,f).times(.5),a.s=u.s,a}for(c.precision=o=d+10,c.rounding=1,r=Math.min(28,o/S+2|0),e=r;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(x=!1,t=Math.ceil(o/S),n=1,l=u.times(u),a=new c(u),i=u;e!==-1;)if(i=i.times(l),s=a.minus(i.div(n+=2)),i=i.times(l),a=s.plus(i.div(n+=2)),a.d[t]!==void 0)for(e=t;a.d[e]===s.d[e]&&e--;);return r&&(a=a.times(2<<r-1)),x=!0,E(a,c.precision=d,c.rounding=f,!0)};p.isFinite=function(){return!!this.d};p.isInteger=p.isInt=function(){return!!this.d&&ne(this.e/S)>this.d.length-2};p.isNaN=function(){return!this.s};p.isNegative=p.isNeg=function(){return this.s<0};p.isPositive=p.isPos=function(){return this.s>0};p.isZero=function(){return!!this.d&&this.d[0]===0};p.lessThan=p.lt=function(e){return this.cmp(e)<0};p.lessThanOrEqualTo=p.lte=function(e){return this.cmp(e)<1};p.logarithm=p.log=function(e){var t,r,n,i,s,a,o,l,u=this,c=u.constructor,d=c.precision,f=c.rounding,h=5;if(e==null)e=new c(10),t=!0;else{if(e=new c(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)s=!0;else{for(i=r[0];i%10===0;)i/=10;s=i!==1}if(x=!1,o=d+h,a=Ze(u,o),n=t?Br(c,o+10):Ze(e,o),l=U(a,n,o,1),ir(l.d,i=d,f))do if(o+=10,a=Ze(u,o),n=t?Br(c,o+10):Ze(e,o),l=U(a,n,o,1),!s){+re(l.d).slice(i+1,i+15)+1==1e14&&(l=E(l,d+1,0));break}while(ir(l.d,i+=10,f));return x=!0,E(l,d,f)};p.minus=p.sub=function(e){var t,r,n,i,s,a,o,l,u,c,d,f,h=this,g=h.constructor;if(e=new g(e),!h.d||!e.d)return!h.s||!e.s?e=new g(NaN):h.d?e.s=-e.s:e=new g(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(u=h.d,f=e.d,o=g.precision,l=g.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else if(u[0])e=new g(h);else return new g(l===3?-0:0);return x?E(e,o,l):e}if(r=ne(e.e/S),c=ne(h.e/S),u=u.slice(),s=c-r,s){for(d=s<0,d?(t=u,s=-s,a=f.length):(t=f,r=c,a=u.length),n=Math.max(Math.ceil(o/S),a)+2,s>n&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for(n=u.length,a=f.length,d=n<a,d&&(a=n),n=0;n<a;n++)if(u[n]!=f[n]){d=u[n]<f[n];break}s=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),a=u.length,n=f.length-a;n>0;--n)u[a++]=0;for(n=f.length;n>s;){if(u[--n]<f[n]){for(i=n;i&&u[--i]===0;)u[i]=Ne-1;--u[i],u[n]+=Ne}u[n]-=f[n]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=zr(u,r),x?E(e,o,l):e):new g(l===3?-0:0)};p.modulo=p.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?E(new n(r),n.precision,n.rounding):(x=!1,n.modulo==9?(t=U(r,e.abs(),0,3,1),t.s*=e.s):t=U(r,e,0,n.modulo,1),t=t.times(e),x=!0,r.minus(t))};p.naturalExponential=p.exp=function(){return pi(this)};p.naturalLogarithm=p.ln=function(){return Ze(this)};p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s,E(e)};p.plus=p.add=function(e){var t,r,n,i,s,a,o,l,u,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return!d.s||!e.s?e=new f(NaN):d.d||(e=new f(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,o=f.precision,l=f.rounding,!u[0]||!c[0])return c[0]||(e=new f(d)),x?E(e,o,l):e;if(s=ne(d.e/S),n=ne(e.e/S),u=u.slice(),i=s-n,i){for(i<0?(r=u,i=-i,a=c.length):(r=c,n=s,a=u.length),s=Math.ceil(o/S),a=s>a?s+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=u.length,i=c.length,a-i<0&&(i=a,r=c,c=u,u=r),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/Ne|0,u[i]%=Ne;for(t&&(u.unshift(t),++n),a=u.length;u[--a]==0;)u.pop();return e.d=u,e.e=zr(u,n),x?E(e,o,l):e};p.precision=p.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nt+e);return r.d?(t=Vo(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};p.round=function(){var e=this,t=e.constructor;return E(new t(e),e.e+1,t.rounding)};p.sine=p.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+S,n.rounding=1,r=Xm(n,Bo(n,r)),n.precision=e,n.rounding=t,E(Ge>2?r.neg():r,e,t,!0)):new n(NaN)};p.squareRoot=p.sqrt=function(){var e,t,r,n,i,s,a=this,o=a.d,l=a.e,u=a.s,c=a.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?a:1/0);for(x=!1,u=Math.sqrt(+a),u==0||u==1/0?(t=re(o),(t.length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=ne((l+1)/2)-(l<0||l%2),u==1/0?t="5e"+l:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new c(t)):n=new c(u.toString()),r=(l=c.precision)+3;;)if(s=n,n=s.plus(U(a,s,r+2,1)).times(.5),re(s.d).slice(0,r)===(t=re(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(E(s,l+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(E(n,l+1,1),e=!n.times(n).eq(a));break}return x=!0,E(n,l,c.rounding,e)};p.tangent=p.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=U(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,E(Ge==2||Ge==4?r.neg():r,e,t,!0)):new n(NaN)};p.times=p.mul=function(e){var t,r,n,i,s,a,o,l,u,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(e.s*=c.s,!f||!f[0]||!h||!h[0])return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:!f||!h?e.s/0:e.s*0);for(r=ne(c.e/S)+ne(e.e/S),l=f.length,u=h.length,l<u&&(s=f,f=h,h=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=s[i]+h[n]*f[i-n-1]+t,s[i--]=o%Ne|0,t=o/Ne|0;s[i]=(s[i]+t)%Ne|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=zr(s,r),x?E(e,d.precision,d.rounding):e};p.toBinary=function(e,t){return Li(this,2,e,t)};p.toDecimalPlaces=p.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fe(e,0,it),t===void 0?t=n.rounding:fe(t,0,8),E(r,e+r.e+1,t))};p.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=je(n,!0):(fe(e,0,it),t===void 0?t=i.rounding:fe(t,0,8),n=E(new i(n),e+1,t),r=je(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};p.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?r=je(i):(fe(e,0,it),t===void 0?t=s.rounding:fe(t,0,8),n=E(new s(i),e+i.e+1,t),r=je(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};p.toFraction=function(e){var t,r,n,i,s,a,o,l,u,c,d,f,h=this,g=h.d,m=h.constructor;if(!g)return new m(h);if(u=r=new m(1),n=l=new m(0),t=new m(n),s=t.e=Vo(g)-h.e-1,a=s%S,t.d[0]=te(10,a<0?S+a:a),e==null)e=s>0?t:u;else{if(o=new m(e),!o.isInt()||o.lt(u))throw Error(nt+o);e=o.gt(t)?s>0?t:u:o}for(x=!1,o=new m(re(g)),c=m.precision,m.precision=s=g.length*S*2;d=U(o,t,0,1,1),i=r.plus(d.times(n)),i.cmp(e)!=1;)r=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=U(e.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=h.s,f=U(u,n,s,1).minus(h).abs().cmp(U(l,r,s,1).minus(h).abs())<1?[u,n]:[l,r],m.precision=c,x=!0,f};p.toHexadecimal=p.toHex=function(e,t){return Li(this,16,e,t)};p.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:fe(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(x=!1,r=U(r,e,0,t,1).times(e),x=!0,E(r)):(e.s=r.s,r=e),r};p.toNumber=function(){return+this};p.toOctal=function(e,t){return Li(this,8,e,t)};p.toPower=p.pow=function(e){var t,r,n,i,s,a,o=this,l=o.constructor,u=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(te(+o,u));if(o=new l(o),o.eq(1))return o;if(n=l.precision,s=l.rounding,e.eq(1))return E(o,n,s);if(t=ne(e.e/S),t>=e.d.length-1&&(r=u<0?-u:u)<=Jm)return i=Fo(l,o,r,n),e.s<0?new l(1).div(i):E(i,n,s);if(a=o.s,a<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(a=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=a,o}return r=te(+o,u),t=r==0||!isFinite(r)?ne(u*(Math.log("0."+re(o.d))/Math.LN10+o.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(x=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),i=pi(e.times(Ze(o,n+r)),n),i.d&&(i=E(i,n+5,1),ir(i.d,n,s)&&(t=n+10,i=E(pi(e.times(Ze(o,t+r)),t),t+5,1),+re(i.d).slice(n+1,n+15)+1==1e14&&(i=E(i,n+1,0)))),i.s=a,x=!0,l.rounding=s,E(i,n,s))};p.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=je(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(fe(e,1,it),t===void 0?t=i.rounding:fe(t,0,8),n=E(new i(n),e,t),r=je(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};p.toSignificantDigits=p.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fe(e,1,it),t===void 0?t=n.rounding:fe(t,0,8)),E(new n(r),e,t)};p.toString=function(){var e=this,t=e.constructor,r=je(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};p.truncated=p.trunc=function(){return E(new this.constructor(this),this.e+1,1)};p.valueOf=p.toJSON=function(){var e=this,t=e.constructor,r=je(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function re(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=S-n.length,r&&(s+=Xe(r)),s+=n;a=e[t],n=a+"",r=S-n.length,r&&(s+=Xe(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}function fe(e,t,r){if(e!==~~e||e<t||e>r)throw Error(nt+e)}function ir(e,t,r,n){var i,s,a,o;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=S,i=0):(i=Math.ceil((t+1)/S),t%=S),s=te(10,S-t),o=e[i]%s|0,n==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),a=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(e[i+1]/s/100|0)==te(10,t-2)-1||(o==s/2||o==0)&&(e[i+1]/s/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),a=(n||r<4)&&o==9999||!n&&r>3&&o==4999):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(e[i+1]/s/1e3|0)==te(10,t-3)-1,a}function Ir(e,t,r){for(var n,i=[0],s,a=0,o=e.length;a<o;){for(s=i.length;s--;)i[s]*=t;for(i[0]+=di.indexOf(e.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function Qm(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/Xr(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=_t(e,1,t.times(i),new e(1));for(var s=r;s--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}var U=(function(){function e(n,i,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%s|0,o=a/s|0;return o&&n.unshift(o),n}function t(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s,a){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*a+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a,o,l){var u,c,d,f,h,g,m,A,q,I,O,J,me,N,w,P,$,V,j,R,k=n.constructor,Y=n.s==i.s?1:-1,F=n.d,D=i.d;if(!F||!F[0]||!D||!D[0])return new k(!n.s||!i.s||(F?D&&F[0]==D[0]:!D)?NaN:F&&F[0]==0||!D?Y*0:Y/0);for(l?(h=1,c=n.e-i.e):(l=Ne,h=S,c=ne(n.e/h)-ne(i.e/h)),j=D.length,$=F.length,q=new k(Y),I=q.d=[],d=0;D[d]==(F[d]||0);d++);if(D[d]>(F[d]||0)&&c--,s==null?(N=s=k.precision,a=k.rounding):o?N=s+(n.e-i.e)+1:N=s,N<0)I.push(1),g=!0;else{if(N=N/h+2|0,d=0,j==1){for(f=0,D=D[0],N++;(d<$||f)&&N--;d++)w=f*l+(F[d]||0),I[d]=w/D|0,f=w%D|0;g=f||d<$}else{for(f=l/(D[0]+1)|0,f>1&&(D=e(D,f,l),F=e(F,f,l),j=D.length,$=F.length),P=j,O=F.slice(0,j),J=O.length;J<j;)O[J++]=0;R=D.slice(),R.unshift(0),V=D[0],D[1]>=l/2&&++V;do f=0,u=t(D,O,j,J),u<0?(me=O[0],j!=J&&(me=me*l+(O[1]||0)),f=me/V|0,f>1?(f>=l&&(f=l-1),m=e(D,f,l),A=m.length,J=O.length,u=t(m,O,A,J),u==1&&(f--,r(m,j<A?R:D,A,l))):(f==0&&(u=f=1),m=D.slice()),A=m.length,A<J&&m.unshift(0),r(O,m,J,l),u==-1&&(J=O.length,u=t(D,O,j,J),u<1&&(f++,r(O,j<J?R:D,J,l))),J=O.length):u===0&&(f++,O=[0]),I[d++]=f,u&&O[0]?O[J++]=F[P]||0:(O=[F[P]],J=1);while((P++<$||O[0]!==void 0)&&N--);g=O[0]!==void 0}I[0]||I.shift()}if(h==1)q.e=c,Do=g;else{for(d=1,f=I[0];f>=10;f/=10)d++;q.e=d+c*h-1,E(q,o?s+q.e+1:s,a,g)}return q}})();function E(e,t,r,n){var i,s,a,o,l,u,c,d,f,h=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(i=1,o=d[0];o>=10;o/=10)i++;if(s=t-i,s<0)s+=S,a=t,c=d[f=0],l=c/te(10,i-a-1)%10|0;else if(f=Math.ceil((s+1)/S),o=d.length,f>=o)if(n){for(;o++<=f;)d.push(0);c=l=0,i=1,s%=S,a=s-S+1}else break e;else{for(c=o=d[f],i=1;o>=10;o/=10)i++;s%=S,a=s-S+i,l=a<0?0:c/te(10,i-a-1)%10|0}if(n=n||t<0||d[f+1]!==void 0||(a<0?c:c%te(10,i-a-1)),u=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(s>0?a>0?c/te(10,i-a):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=te(10,(S-t%S)%S),e.e=-t||0):d[0]=e.e=0,e;if(s==0?(d.length=f,o=1,f--):(d.length=f+1,o=te(10,S-s),d[f]=a>0?(c/te(10,i-a)%te(10,a)|0)*o:0),u)for(;;)if(f==0){for(s=1,a=d[0];a>=10;a/=10)s++;for(a=d[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(e.e++,d[0]==Ne&&(d[0]=1));break}else{if(d[f]+=o,d[f]!=Ne)break;d[f--]=0,o=1}for(s=d.length;d[--s]===0;)d.pop()}return x&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function je(e,t,r){if(!e.isFinite())return Uo(e);var n,i=e.e,s=re(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Xe(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+Xe(-i-1)+s,r&&(n=r-a)>0&&(s+=Xe(n))):i>=a?(s+=Xe(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Xe(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Xe(n))),s}function zr(e,t){var r=e[0];for(t*=S;r>=10;r/=10)t++;return t}function Br(e,t,r){if(t>Ym)throw x=!0,r&&(e.precision=r),Error(jo);return E(new e(Mr),t,1,!0)}function qe(e,t,r){if(t>hi)throw Error(jo);return E(new e(Ur),t,r,!0)}function Vo(e){var t=e.length-1,r=t*S+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Xe(e){for(var t="";e--;)t+="0";return t}function Fo(e,t,r,n){var i,s=new e(1),a=Math.ceil(n/S+4);for(x=!1;;){if(r%2&&(s=s.times(t),wa(s.d,a)&&(i=!0)),r=ne(r/2),r===0){r=s.d.length-1,i&&s.d[r]===0&&++s.d[r];break}t=t.times(t),wa(t.d,a)}return x=!0,s}function ya(e){return e.d[e.d.length-1]&1}function Mo(e,t,r){for(var n,i,s=new e(t[0]),a=0;++a<t.length;){if(i=new e(t[a]),!i.s){s=i;break}n=s.cmp(i),(n===r||n===0&&s.s===r)&&(s=i)}return s}function pi(e,t){var r,n,i,s,a,o,l,u=0,c=0,d=0,f=e.constructor,h=f.rounding,g=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(x=!1,l=g):l=t,o=new f(.03125);e.e>-2;)e=e.times(o),d+=5;for(n=Math.log(te(2,d))/Math.LN10*2+5|0,l+=n,r=s=a=new f(1),f.precision=l;;){if(s=E(s.times(e),l,1),r=r.times(++c),o=a.plus(U(s,r,l,1)),re(o.d).slice(0,l)===re(a.d).slice(0,l)){for(i=d;i--;)a=E(a.times(a),l,1);if(t==null)if(u<3&&ir(a.d,l-n,h,u))f.precision=l+=10,r=s=o=new f(1),c=0,u++;else return E(a,f.precision=g,h,x=!0);else return f.precision=g,a}a=o}}function Ze(e,t){var r,n,i,s,a,o,l,u,c,d,f,h=1,g=10,m=e,A=m.d,q=m.constructor,I=q.rounding,O=q.precision;if(m.s<0||!A||!A[0]||!m.e&&A[0]==1&&A.length==1)return new q(A&&!A[0]?-1/0:m.s!=1?NaN:A?0:m);if(t==null?(x=!1,c=O):c=t,q.precision=c+=g,r=re(A),n=r.charAt(0),Math.abs(s=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=re(m.d),n=r.charAt(0),h++;s=m.e,n>1?(m=new q("0."+r),s++):m=new q(n+"."+r.slice(1))}else return u=Br(q,c+2,O).times(s+""),m=Ze(new q(n+"."+r.slice(1)),c-g).plus(u),q.precision=O,t==null?E(m,O,I,x=!0):m;for(d=m,l=a=m=U(m.minus(1),m.plus(1),c,1),f=E(m.times(m),c,1),i=3;;){if(a=E(a.times(f),c,1),u=l.plus(U(a,new q(i),c,1)),re(u.d).slice(0,c)===re(l.d).slice(0,c))if(l=l.times(2),s!==0&&(l=l.plus(Br(q,c+2,O).times(s+""))),l=U(l,new q(h),c,1),t==null)if(ir(l.d,c-g,I,o))q.precision=c+=g,u=a=m=U(d.minus(1),d.plus(1),c,1),f=E(m.times(m),c,1),i=o=1;else return E(l,q.precision=O,I,x=!0);else return q.precision=O,l;l=u,i+=2}}function Uo(e){return String(e.s*e.s/0)}function qr(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%S,r<0&&(n+=S),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=S;n<i;)e.d.push(+t.slice(n,n+=S));t=t.slice(n),n=S-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),x&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function zm(e,t){var r,n,i,s,a,o,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Lo.test(t))return qr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Km.test(t))r=16,t=t.toLowerCase();else if(Hm.test(t))r=2;else if(Wm.test(t))r=8;else throw Error(nt+t);for(s=t.search(/p/i),s>0?(l=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),a=s>=0,n=e.constructor,a&&(t=t.replace(".",""),o=t.length,s=o-s,i=Fo(n,new n(r),s,s*2)),u=Ir(t,r,Ne),c=u.length-1,s=c;u[s]===0;--s)u.pop();return s<0?new n(e.s*0):(e.e=zr(u,c),e.d=u,x=!1,a&&(e=U(e,i,o*4)),l&&(e=e.times(Math.abs(l)<54?te(2,l):gt.pow(2,l))),x=!0,e)}function Xm(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:_t(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Xr(5,r)),t=_t(e,2,t,t);for(var i,s=new e(5),a=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(a.times(i).minus(o))));return t}function _t(e,t,r,n,i){var s,a,o,l,u=1,c=e.precision,d=Math.ceil(c/S);for(x=!1,l=r.times(r),o=new e(n);;){if(a=U(o.times(l),new e(t++*t++),c,1),o=i?n.plus(a):n.minus(a),n=U(a.times(l),new e(t++*t++),c,1),a=o.plus(n),a.d[d]!==void 0){for(s=d;a.d[s]===o.d[s]&&s--;);if(s==-1)break}s=o,o=n,n=a,a=s,u++}return x=!0,a.d.length=d+1,a}function Xr(e,t){for(var r=e;--t;)r*=e;return r}function Bo(e,t){var r,n=t.s<0,i=qe(e,e.precision,1),s=i.times(.5);if(t=t.abs(),t.lte(s))return Ge=n?4:1,t;if(r=t.divToInt(i),r.isZero())Ge=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(s))return Ge=ya(r)?n?2:3:n?4:1,t;Ge=ya(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Li(e,t,r,n){var i,s,a,o,l,u,c,d,f,h=e.constructor,g=r!==void 0;if(g?(fe(r,1,it),n===void 0?n=h.rounding:fe(n,0,8)):(r=h.precision,n=h.rounding),!e.isFinite())c=Uo(e);else{for(c=je(e),a=c.indexOf("."),g?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,a>=0&&(c=c.replace(".",""),f=new h(1),f.e=c.length-a,f.d=Ir(je(f),10,i),f.e=f.d.length),d=Ir(c,10,i),s=l=d.length;d[--l]==0;)d.pop();if(!d[0])c=g?"0p+0":"0";else{if(a<0?s--:(e=new h(e),e.d=d,e.e=s,e=U(e,f,r,n,0,i),d=e.d,s=e.e,u=Do),a=d[r],o=i/2,u=u||d[r+1]!==void 0,u=n<4?(a!==void 0||u)&&(n===0||n===(e.s<0?3:2)):a>o||a===o&&(n===4||u||n===6&&d[r-1]&1||n===(e.s<0?8:7)),d.length=r,u)for(;++d[--r]>i-1;)d[r]=0,r||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(a=0,c="";a<l;a++)c+=di.charAt(d[a]);if(g){if(l>1)if(t==16||t==8){for(a=t==16?4:3,--l;l%a;l++)c+="0";for(d=Ir(c,i,t),l=d.length;!d[l-1];--l);for(a=1,c="1.";a<l;a++)c+=di.charAt(d[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)c="0"+c;c="0."+c}else if(++s>l)for(s-=l;s--;)c+="0";else s<l&&(c=c.slice(0,s)+"."+c.slice(s))}c=(t==16?"0x":t==2?"0b":t==8?"0o":"")+c}return e.s<0?"-"+c:c}function wa(e,t){if(e.length>t)return e.length=t,!0}function Zm(e){return new this(e).abs()}function eg(e){return new this(e).acos()}function tg(e){return new this(e).acosh()}function rg(e,t){return new this(e).plus(t)}function ng(e){return new this(e).asin()}function ig(e){return new this(e).asinh()}function sg(e){return new this(e).atan()}function ag(e){return new this(e).atanh()}function og(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=qe(this,s,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?qe(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=qe(this,s,1).times(.5),r.s=e.s):t.s<0?(this.precision=s,this.rounding=1,r=this.atan(U(e,t,s,1)),t=qe(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(U(e,t,s,1)),r}function lg(e){return new this(e).cbrt()}function ug(e){return E(e=new this(e),e.e+1,2)}function cg(e,t,r){return new this(e).clamp(t,r)}function dg(e){if(!e||typeof e!="object")throw Error(Qr+"Object expected");var t,r,n,i=e.defaults===!0,s=["precision",1,it,"rounding",0,8,"toExpNeg",-xt,0,"toExpPos",0,xt,"maxE",0,xt,"minE",-xt,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],i&&(this[r]=fi[r]),(n=e[r])!==void 0)if(ne(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(nt+r+": "+n);if(r="crypto",i&&(this[r]=fi[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(ko);else this[r]=!1;else throw Error(nt+r+": "+n);return this}function fg(e){return new this(e).cos()}function hg(e){return new this(e).cosh()}function Go(e){var t,r,n;function i(s){var a,o,l,u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,va(s)){u.s=s.s,x?!s.d||s.e>i.maxE?(u.e=NaN,u.d=null):s.e<i.minE?(u.e=0,u.d=[0]):(u.e=s.e,u.d=s.d.slice()):(u.e=s.e,u.d=s.d?s.d.slice():s.d);return}if(l=typeof s,l==="number"){if(s===0){u.s=1/s<0?-1:1,u.e=0,u.d=[0];return}if(s<0?(s=-s,u.s=-1):u.s=1,s===~~s&&s<1e7){for(a=0,o=s;o>=10;o/=10)a++;x?a>i.maxE?(u.e=NaN,u.d=null):a<i.minE?(u.e=0,u.d=[0]):(u.e=a,u.d=[s]):(u.e=a,u.d=[s]);return}if(s*0!==0){s||(u.s=NaN),u.e=NaN,u.d=null;return}return qr(u,s.toString())}if(l==="string")return(o=s.charCodeAt(0))===45?(s=s.slice(1),u.s=-1):(o===43&&(s=s.slice(1)),u.s=1),Lo.test(s)?qr(u,s):zm(u,s);if(l==="bigint")return s<0?(s=-s,u.s=-1):u.s=1,qr(u,s.toString());throw Error(nt+s)}if(i.prototype=p,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=dg,i.clone=Go,i.isDecimal=va,i.abs=Zm,i.acos=eg,i.acosh=tg,i.add=rg,i.asin=ng,i.asinh=ig,i.atan=sg,i.atanh=ag,i.atan2=og,i.cbrt=lg,i.ceil=ug,i.clamp=cg,i.cos=fg,i.cosh=hg,i.div=pg,i.exp=mg,i.floor=gg,i.hypot=yg,i.ln=wg,i.log=vg,i.log10=Eg,i.log2=bg,i.max=Sg,i.min=Pg,i.mod=xg,i.mul=Ng,i.pow=$g,i.random=_g,i.round=Tg,i.sign=Rg,i.sin=Og,i.sinh=Ag,i.sqrt=Ig,i.sub=qg,i.sum=Dg,i.tan=jg,i.tanh=kg,i.trunc=Cg,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function pg(e,t){return new this(e).div(t)}function mg(e){return new this(e).exp()}function gg(e){return E(e=new this(e),e.e+1,3)}function yg(){var e,t,r=new this(0);for(x=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return x=!0,new this(1/0);r=t}return x=!0,r.sqrt()}function va(e){return e instanceof gt||e&&e.toStringTag===Co||!1}function wg(e){return new this(e).ln()}function vg(e,t){return new this(e).log(t)}function bg(e){return new this(e).log(2)}function Eg(e){return new this(e).log(10)}function Sg(){return Mo(this,arguments,-1)}function Pg(){return Mo(this,arguments,1)}function xg(e,t){return new this(e).mod(t)}function Ng(e,t){return new this(e).mul(t)}function $g(e,t){return new this(e).pow(t)}function _g(e){var t,r,n,i,s=0,a=new this(1),o=[];if(e===void 0?e=this.precision:fe(e,1,it),n=Math.ceil(e/S),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)i=t[s],i>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);s<n;)i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,s):(o.push(i%1e7),s+=4);s=n/4}else throw Error(ko);else for(;s<n;)o[s++]=Math.random()*1e7|0;for(n=o[--s],e%=S,n&&e&&(i=te(10,S-e),o[s]=(n/i|0)*i);o[s]===0;s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=S)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<S&&(r-=S-n)}return a.e=r,a.d=o,a}function Tg(e){return E(e=new this(e),e.e+1,this.rounding)}function Rg(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Og(e){return new this(e).sin()}function Ag(e){return new this(e).sinh()}function Ig(e){return new this(e).sqrt()}function qg(e,t){return new this(e).sub(t)}function Dg(){var e=0,t=arguments,r=new this(t[e]);for(x=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return x=!0,E(r,this.precision,this.rounding)}function jg(e){return new this(e).tan()}function kg(e){return new this(e).tanh()}function Cg(e){return E(e=new this(e),e.e+1,1)}p[Symbol.for("nodejs.util.inspect.custom")]=p.toString;p[Symbol.toStringTag]="Decimal";var gt=p.constructor=Go(fi);Mr=new gt(Mr);Ur=new gt(Ur);var Zr=gt;function Vi(e){return gt.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}var Ho={};mt(Ho,{ModelAction:()=>en,datamodelEnumToSchemaEnum:()=>Lg});function Lg(e){return{name:e.name,values:e.values.map(t=>t.name)}}var en=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(en||{}),Vg=M(to()),Fg=M(require("node:fs")),Mg={keyword:ft,entity:ft,value:e=>xe(Wt(e)),punctuation:Wt,directive:ft,function:ft,variable:e=>xe(Wt(e)),string:e=>xe(Zt(e)),boolean:or,number:ft,comment:Ri},Ug=e=>e,Tr={},Bg=0,T={manual:Tr.Prism&&Tr.Prism.manual,disableWorkerMessageHandler:Tr.Prism&&Tr.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof Ae){let t=e;return new Ae(t.type,T.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(T.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Bg}),e.__id},clone:function e(t,r){let n,i,s=T.util.type(t);switch(r=r||{},s){case"Object":if(i=T.util.objId(t),r[i])return r[i];n={},r[i]=n;for(let a in t)t.hasOwnProperty(a)&&(n[a]=e(t[a],r));return n;case"Array":return i=T.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(a,o){n[o]=e(a,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=T.util.clone(T.languages[e]);for(let n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||T.languages;let i=n[e],s={};for(let o in i)if(i.hasOwnProperty(o)){if(o==t)for(let l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);r.hasOwnProperty(o)||(s[o]=i[o])}let a=n[e];return n[e]=s,T.languages.DFS(T.languages,function(o,l){l===a&&o!=e&&(this[o]=s)}),s},DFS:function e(t,r,n,i){i=i||{};let s=T.util.objId;for(let a in t)if(t.hasOwnProperty(a)){r.call(t,a,t[a],n||a);let o=t[a],l=T.util.type(o);l==="Object"&&!i[s(o)]?(i[s(o)]=!0,e(o,r,null,i)):l==="Array"&&!i[s(o)]&&(i[s(o)]=!0,e(o,r,a,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return T.hooks.run("before-tokenize",n),n.tokens=T.tokenize(n.code,n.grammar),T.hooks.run("after-tokenize",n),Ae.stringify(T.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,s,a){for(let m in r){if(!r.hasOwnProperty(m)||!r[m])continue;if(m==a)return;let A=r[m];A=T.util.type(A)==="Array"?A:[A];for(let q=0;q<A.length;++q){let I=A[q],O=I.inside,J=!!I.lookbehind,me=!!I.greedy,N=0,w=I.alias;if(me&&!I.pattern.global){let P=I.pattern.toString().match(/[imuy]*$/)[0];I.pattern=RegExp(I.pattern.source,P+"g")}I=I.pattern||I;for(let P=n,$=i;P<t.length;$+=t[P].length,++P){let V=t[P];if(t.length>e.length)return;if(V instanceof Ae)continue;if(me&&P!=t.length-1){I.lastIndex=$;var d=I.exec(e);if(!d)break;var c=d.index+(J?d[1].length:0),f=d.index+d[0].length,o=P,l=$;for(let D=t.length;o<D&&(l<f||!t[o].type&&!t[o-1].greedy);++o)l+=t[o].length,c>=l&&(++P,$=l);if(t[P]instanceof Ae)continue;u=o-P,V=e.slice($,l),d.index-=$}else{I.lastIndex=0;var d=I.exec(V),u=1}if(!d){if(s)break;continue}J&&(N=d[1]?d[1].length:0);var c=d.index+N,d=d[0].slice(N),f=c+d.length,h=V.slice(0,c),g=V.slice(f);let j=[P,u];h&&(++P,$+=h.length,j.push(h));let R=new Ae(m,O?T.tokenize(d,O):d,w,d,me);if(j.push(R),g&&j.push(g),Array.prototype.splice.apply(t,j),u!=1&&T.matchGrammar(e,t,r,P,$,!0,m),s)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let i in n)t[i]=n[i];delete t.rest}return T.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=T.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=T.hooks.all[e];if(!(!r||!r.length))for(var n=0,i;i=r[n++];)i(t)}},Token:Ae};T.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};T.languages.javascript=T.languages.extend("clike",{"class-name":[T.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});T.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;T.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:T.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:T.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:T.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:T.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});T.languages.markup&&T.languages.markup.tag.addInlined("script","javascript");T.languages.js=T.languages.javascript;T.languages.typescript=T.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});T.languages.ts=T.languages.typescript;function Ae(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}Ae.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return Ae.stringify(r,t)}).join(""):Gg(e.type)(e.content)};function Gg(e){return Mg[e]||Ug}function Hg(e){return Kg(e,T.languages.javascript)}function Kg(e,t){return T.tokenize(e,t).map(r=>Ae.stringify(r)).join("")}function Wg(e){return Sm(e)}var Jg=class ct{firstLineNumber;lines;static read(t){let r;try{r=Fg.default.readFileSync(t,"utf-8")}catch{return null}return ct.fromContent(r)}static fromContent(t){let r=t.split(/\r?\n/);return new ct(1,r)}constructor(t,r){this.firstLineNumber=t,this.lines=r}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new ct(this.firstLineNumber,i)}mapLines(t){return new ct(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,r){return this.mapLines((n,i)=>i===t?`${r} ${n}`:`  ${n}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new ct(t,Wg(n).split(`
`))}highlight(){let t=Hg(this.toString());return new ct(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}},Yg={red:ht,gray:Ri,dim:ar,bold:xe,underline:ye,highlightSource:e=>e.highlight()},Qg={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function zg({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function Xg({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},s){let a=zg({message:t,originalMethod:r,isPanic:n,callArguments:i});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return a;let o=e.getLocation();if(!o||!o.lineNumber||!o.columnNumber)return a;let l=Math.max(1,o.lineNumber-3),u=Jg.read(o.fileName)?.slice(l,o.lineNumber),c=u?.lineAt(o.lineNumber);if(u&&c){let d=ey(c),f=Zg(c);if(!f)return a;a.functionName=`${f.code})`,a.location=o,n||(u=u.mapLineAt(o.lineNumber,g=>g.slice(0,f.openingBraceIndex))),u=s.highlightSource(u);let h=String(u.lastLineNumber).length;if(a.contextLines=u.mapLines((g,m)=>s.gray(String(m).padStart(h))+" "+g).mapLines(g=>s.dim(g)).prependSymbolAt(o.lineNumber,s.bold(s.red("\u2192"))),i){let g=d+h+1;g+=2,a.callArguments=(0,Vg.default)(i,g).slice(g)}}return a}function Zg(e){let t=Object.keys(en).join("|"),r=new RegExp(String.raw`\.(${t})\(`).exec(e);if(r){let n=r.index+r[0].length,i=e.lastIndexOf(" ",r.index)+1;return{code:e.slice(i,n),openingBraceIndex:n}}return null}function ey(e){let t=0;for(let r=0;r<e.length;r++){if(e.charAt(r)!==" ")return t;t++}return t}function ty({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:s},a){let o=[""],l=t?" in":":";if(n?(o.push(a.red(`Oops, an unknown error occurred! This is ${a.bold("on us")}, you did nothing wrong.`)),o.push(a.red(`It occurred in the ${a.bold(`\`${e}\``)} invocation${l}`))):o.push(a.red(`Invalid ${a.bold(`\`${e}\``)} invocation${l}`)),t&&o.push(a.underline(ry(t))),i){o.push("");let u=[i.toString()];s&&(u.push(s),u.push(a.dim(")"))),o.push(u.join("")),s&&o.push("")}else o.push(""),s&&o.push(s),o.push("");return o.push(r),o.join(`
`)}function ry(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function Ko(e){let t=e.showColors?Yg:Qg,r;return r=Xg(e,t),ty(r,t)}var ny=M(ro());function iy(e,t,r){let n=Wo(e),i=sy(n),s=oy(i);s?Zo(s,t,r):t.addErrorMessage(()=>"Unknown error")}function Wo(e){return e.errors.flatMap(t=>t.kind==="Union"?Wo(t):[t])}function sy(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,s=t.get(i);s?t.set(i,{...n,argument:{...n.argument,typeNames:ay(s.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function ay(e,t){return[...new Set(e.concat(t))]}function oy(e){return Um(e,(t,r)=>{let n=ba(t),i=ba(r);return n!==i?n-i:Ea(t)-Ea(r)})}function ba(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Ea(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var ke=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),typeof this.value=="string"?e.write(t(this.value)):e.write(this.value)}};jh();var Jo=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return typeof e=="string"?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(n,i)=>i.write(n)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};Dh();var ly=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},Rr=e=>e,Yo={bold:Rr,red:Rr,green:Rr,dim:Rr,enabled:!1},uy={bold:xe,red:ht,green:Zt,dim:ar,enabled:!0},Fi={write(e){e.writeLine(",")}},tn=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},Mi=class{hasError=!1;markAsError(){return this.hasError=!0,this}},Qo=class extends Mi{items=[];addItem(e){return this.items.push(new ly(e)),this}getField(e){return this.items[e]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(this.items.length===0){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new tn("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(Fi,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},zo=class Dr extends Mi{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let s=i;for(let a of n){let o;if(s.value instanceof Dr?o=s.value.getField(a):s.value instanceof Qo&&(o=s.value.getField(Number(a))),!o)return;s=o}return s}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof Dr))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let s=n.value.getFieldValue(i);if(!s||!(s instanceof Dr))return;let a=s.getSelectionParent();if(!a)return;n=a}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(r=>r.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new tn("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(Fi,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}},de=class extends Mi{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new tn(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},Xo=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(Fi,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function Zo(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":cy(e,t);break;case"IncludeOnScalar":dy(e,t);break;case"EmptySelection":fy(e,t,r);break;case"UnknownSelectionField":gy(e,t);break;case"InvalidSelectionValue":yy(e,t);break;case"UnknownArgument":wy(e,t);break;case"UnknownInputField":vy(e,t);break;case"RequiredArgumentMissing":by(e,t);break;case"InvalidArgumentType":Ey(e,t);break;case"InvalidArgumentValue":Sy(e,t);break;case"ValueTooLarge":Py(e,t);break;case"SomeFieldsMissing":xy(e,t);break;case"TooManyFieldsGiven":Ny(e,t);break;case"Union":iy(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function cy(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function dy(e,t){let[r,n]=Tt(e.selectionPath),i=e.outputType,s=t.arguments.getDeepSelectionParent(r)?.value;if(s&&(s.getField(n)?.markAsError(),i))for(let a of i.fields)a.isRelation&&s.addSuggestion(new ke(a.name,"true"));t.addErrorMessage(a=>{let o=`Invalid scalar field ${a.red(`\`${n}\``)} for ${a.bold("include")} statement`;return i?o+=` on model ${a.bold(i.name)}. ${cr(a)}`:o+=".",o+=`
Note that ${a.bold("include")} statements only accept relation fields.`,o})}function fy(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){hy(e,t,i);return}if(n.hasField("select")){py(e,t);return}}if(r?.[Yr(e.outputType.name)]){my(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function hy(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new ke(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function py(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),rl(n,r)),t.addErrorMessage(s=>i?`The ${s.red("`select`")} statement for type ${s.bold(r.name)} must not be empty. ${cr(s)}`:`The ${s.red("`select`")} statement for type ${s.bold(r.name)} needs ${s.bold("at least one truthy value")}.`)}function my(e,t){let r=new Xo;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new ke("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,s]=Tt(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(s);if(a){let o=a?.value.asObject()??new zo;o.addSuggestion(n),a.value=o}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function gy(e,t){let r=nl(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":rl(n,e.outputType);break;case"include":$y(n,e.outputType);break;case"omit":_y(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(cr(n)),i.join(" ")})}function yy(e,t){let r=nl(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function wy(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Ty(n,e.arguments)),t.addErrorMessage(i=>el(i,r,e.arguments.map(s=>s.name)))}function vy(e,t){let[r,n]=Tt(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let s=i.getDeepFieldValue(r)?.asObject();s&&il(s,e.inputType)}t.addErrorMessage(s=>el(s,n,e.inputType.fields.map(a=>a.name)))}function el(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Oy(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(cr(e)),n.join(" ")}function by(e,t){let r;t.addErrorMessage(l=>r?.value instanceof de&&r.value.text==="null"?`Argument \`${l.green(s)}\` must not be ${l.red("null")}.`:`Argument \`${l.green(s)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,s]=Tt(e.argumentPath),a=new Xo,o=n.getDeepFieldValue(i)?.asObject();if(o){if(r=o.getField(s),r&&o.removeField(s),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let l of e.inputTypes[0].fields)a.addField(l.name,l.typeNames.join(" | "));o.addSuggestion(new ke(s,a).makeRequired())}else{let l=e.inputTypes.map(tl).join(" | ");o.addSuggestion(new ke(s,l).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,l]=Tt(e.dependentArgumentPath);t.addErrorMessage(u=>`Argument \`${u.green(s)}\` is required because argument \`${u.green(l)}\` was provided.`)}}}function tl(e){return e.kind==="list"?`${tl(e.elementType)}[]`:e.name}function Ey(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let s=rn("or",e.argument.typeNames.map(a=>i.green(a)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${s}, provided ${i.red(e.inferredType)}.`})}function Sy(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let s=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&s.push(`: ${e.underlyingError}`),s.push("."),e.argument.typeNames.length>0){let a=rn("or",e.argument.typeNames.map(o=>i.green(o)));s.push(` Expected ${a}.`)}return s.join("")})}function Py(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof de&&(i=s.text)}t.addErrorMessage(s=>{let a=["Unable to fit value"];return i&&a.push(s.red(i)),a.push(`into a 64-bit signed integer for field \`${s.bold(r)}\``),a.join(" ")})}function xy(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&il(i,e.inputType)}t.addErrorMessage(i=>{let s=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?s.push(`${i.green("at least one of")} ${rn("or",e.constraints.requiredFields.map(a=>`\`${i.bold(a)}\``))} arguments.`):s.push(`${i.green("at least one")} argument.`):s.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),s.push(cr(i)),s.join(" ")})}function Ny(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let s=n.getDeepFieldValue(e.argumentPath)?.asObject();s&&(s.markAsError(),i=Object.keys(s.getFields()))}t.addErrorMessage(s=>{let a=[`Argument \`${s.bold(r)}\` of type ${s.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?a.push(`${s.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?a.push(`${s.green("at most one")} argument,`):a.push(`${s.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),a.push(`but you provided ${rn("and",i.map(o=>s.red(o)))}. Please choose`),e.constraints.maxFieldCount===1?a.push("one."):a.push(`${e.constraints.maxFieldCount}.`),a.join(" ")})}function rl(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ke(r.name,"true"))}function $y(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new ke(r.name,"true"))}function _y(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new ke(r.name,"true"))}function Ty(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ke(r.name,r.typeNames.join(" | ")))}function nl(e,t){let[r,n]=Tt(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let s=i.getFieldValue("select")?.asObject(),a=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=s?.getField(n);return s&&l?{parentKind:"select",parent:s,field:l,fieldName:n}:(l=a?.getField(n),a&&l?{parentKind:"include",field:l,parent:a,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function il(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ke(r.name,r.typeNames.join(" | ")))}function Tt(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function cr({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function rn(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var Ry=3;function Oy(e,t){let r=1/0,n;for(let i of t){let s=(0,ny.default)(e,i);s>Ry||s<r&&(r=s,n=i)}return n}var sl=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function Ui(e){return e instanceof sl}var jr=Symbol(),Bn=new WeakMap,nn=class{constructor(e){e===jr?Bn.set(this,`Prisma.${this._getName()}`):Bn.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return Bn.get(this)}},Bi=class extends nn{_getNamespace(){return"NullTypes"}},mi=class extends Bi{#e};Gi(mi,"DbNull");var gi=class extends Bi{#e};Gi(gi,"JsonNull");var yi=class extends Bi{#e};Gi(yi,"AnyNull");var al={classes:{DbNull:mi,JsonNull:gi,AnyNull:yi},instances:{DbNull:new mi(jr),JsonNull:new gi(jr),AnyNull:new yi(jr)}};function Gi(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Sa=": ",Ay=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Sa.length}write(e){let t=new tn(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(Sa).write(this.value)}},Iy=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function Hi(e){return new Iy(ol(e))}function ol(e){let t=new zo;for(let[r,n]of Object.entries(e)){let i=new Ay(r,ll(n));t.addField(i)}return t}function ll(e){if(typeof e=="string")return new de(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new de(String(e));if(typeof e=="bigint")return new de(`${e}n`);if(e===null)return new de("null");if(e===void 0)return new de("undefined");if(Vi(e))return new de(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new de(`Buffer.alloc(${e.byteLength})`):new de(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=qo(e)?e.toISOString():"Invalid Date";return new de(`new Date("${t}")`)}return e instanceof nn?new de(`Prisma.${e._getName()}`):Ui(e)?new de(`prisma.${Yr(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?qy(e):typeof e=="object"?ol(e):new de(Object.prototype.toString.call(e))}function qy(e){let t=new Qo;for(let r of e)t.addItem(ll(r));return t}function ul(e,t){let r=t==="pretty"?uy:Yo,n=e.renderAllMessages(r),i=new Jo(0,{colors:r}).write(e).toString();return{message:n,args:i}}function cl({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:s,globalOmit:a}){let o=Hi(e);for(let d of t)Zo(d,o,a);let{message:l,args:u}=ul(o,r),c=Ko({message:l,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:u});throw new Be(c,{clientVersion:s})}function dr(e){return e.replace(/^./,t=>t.toLowerCase())}function Dy(e,t,r){let n=dr(r);return!t.result||!(t.result.$allModels||t.result[n])?e:jy({...e,...Pa(t.name,e,t.result.$allModels),...Pa(t.name,e,t.result[n])})}function jy(e){let t=new Qt,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(s=>r(s,i)):[n]));return Oo(e,n=>({...n,needs:r(n.name,new Set)}))}function Pa(e,t,r){return r?Oo(r,({needs:n,compute:i},s)=>({name:s,needs:n?Object.keys(n).filter(a=>n[a]):[],compute:ky(t,s,i)})):{}}function ky(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function Cy(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function Ly(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var xa=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new Qt;modelExtensionsCache=new Qt;queryCallbacksCache=new Qt;clientExtensions=ci(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=ci(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>Dy(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=dr(e);return!this.extension.model||!(this.extension.model[t]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(e):{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return!i||!(i[e]||i.$allModels||i[t]||i.$allOperations)?r:(i[e]!==void 0&&(i[e][t]!==void 0&&n.push(i[e][t]),i[e].$allOperations!==void 0&&n.push(i[e].$allOperations)),e!=="$none"&&i.$allModels!==void 0&&(i.$allModels[t]!==void 0&&n.push(i.$allModels[t]),i.$allModels.$allOperations!==void 0&&n.push(i.$allModels.$allOperations)),i[t]!==void 0&&n.push(i[t]),i.$allOperations!==void 0&&n.push(i.$allOperations),r.concat(n))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},dl=class kr{constructor(t){this.head=t}static empty(){return new kr}static single(t){return new kr(new xa(t))}isEmpty(){return this.head===void 0}append(t){return new kr(new xa(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},fl=class{constructor(e){this.name=e}};function Vy(e){return e instanceof fl}function Fy(e){return new fl(e)}var hl=Symbol(),pl=class{constructor(e){if(e!==hl)throw new Error("Skip instance can not be constructed directly")}ifUndefined(e){return e===void 0?ml:e}},ml=new pl(hl);function pt(e){return e instanceof pl}var My={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},gl="explicitly `undefined` values are not allowed";function yl({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=dl.empty(),callsite:s,clientMethod:a,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:c}){let d=new Qy({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:s,extensions:i,selectionPath:[],argumentPath:[],originalMethod:a,errorFormat:o,clientVersion:l,previewFeatures:u,globalOmit:c});return{modelName:e,action:My[t],query:sr(r,d)}}function sr({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:vl(r,n),selection:Uy(e,t,i,n)}}function Uy(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Ky(e,n)):By(n,t,r)}function By(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Gy(n,t,e),Hy(n,r,e),n}function Gy(e,t,r){for(let[n,i]of Object.entries(t)){if(pt(i))continue;let s=r.nestSelection(n);if(Ki(i,s),i===!1||i===void 0){e[n]=!1;continue}let a=r.findField(n);if(a&&a.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),a){e[n]=sr(i===!0?{}:i,s);continue}if(i===!0){e[n]=!0;continue}e[n]=sr(i,s)}}function Hy(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},s=Ly(i,n);for(let[a,o]of Object.entries(s)){if(pt(o))continue;Ki(o,r.nestSelection(a));let l=r.findField(a);n?.[a]&&!l||(e[a]=!o)}}function Ky(e,t){let r={},n=t.getComputedFields(),i=Cy(e,n);for(let[s,a]of Object.entries(i)){if(pt(a))continue;let o=t.nestSelection(s);Ki(a,o);let l=t.findField(s);if(!(n?.[s]&&!l)){if(a===!1||a===void 0||pt(a)){r[s]=!1;continue}if(a===!0){l?.kind==="object"?r[s]=sr({},o):r[s]=!0;continue}r[s]=sr(a,o)}}return r}function wl(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(Ci(e)){if(qo(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(Vy(e))return{$type:"Param",value:e.name};if(Ui(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return Wy(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:Buffer.from(r,n,i).toString("base64")}}if(Jy(e))return e.values;if(Vi(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof nn){if(e!==al.instances[e._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(Yy(e))return e.toJSON();if(typeof e=="object")return vl(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function vl(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],s=t.nestArgument(n);pt(i)||(i!==void 0?r[n]=wl(i,s):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:s.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:gl}))}return r}function Wy(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),s=e[n];if(s===void 0||pt(s)){let a=s===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${a}\` value within array. Use \`null\` or filter out \`${a}\` values`})}r.push(wl(s,i))}return r}function Jy(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function Yy(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function Ki(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:gl})}var Qy=class wi{constructor(t){this.params=t,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){cl({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new wi({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Yr(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:ki(this.params.action,"Unknown action")}}nestArgument(t){return new wi({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function Na(e){if(!e._hasPreviewFlag("metrics"))throw new Be("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var bl=class{_client;constructor(e){this._client=e}prometheus(e){return Na(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return Na(this._client),this._client._engine.metrics({format:"json",...e})}};function zy(e,t){let r=ci(()=>Xy(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Xy(e){return{datamodel:{models:Gn(e.models),enums:Gn(e.enums),types:Gn(e.types)}}}function Gn(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}var Hn=new WeakMap,Gr="$$PrismaTypedSql",El=class{constructor(e,t){Hn.set(this,{sql:e,values:t}),Object.defineProperty(this,Gr,{value:Gr})}get sql(){return Hn.get(this).sql}get values(){return Hn.get(this).values}};function Zy(e){return(...t)=>new El(e,t)}function Sl(e){return e!=null&&e[Gr]===Gr}var e0=M(eo()),t0=require("node:async_hooks"),r0=require("node:events"),n0=M(require("node:fs")),Kn=M(require("node:path")),st=class vi{constructor(t,r){if(t.length-1!==r.length)throw t.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((a,o)=>a+(o instanceof vi?o.values.length:1),0);this.values=new Array(n),this.strings=new Array(n+1),this.strings[0]=t[0];let i=0,s=0;for(;i<r.length;){let a=r[i++],o=t[i];if(a instanceof vi){this.strings[s]+=a.strings[0];let l=0;for(;l<a.values.length;)this.values[s++]=a.values[l++],this.strings[s]=a.strings[l];this.strings[s]+=o}else this.values[s++]=a,this.strings[s]=o}}get sql(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`?${this.strings[r++]}`;return n}get statement(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`:${r}${this.strings[r++]}`;return n}get text(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`$${r}${this.strings[r++]}`;return n}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function i0(e,t=",",r="",n=""){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new st([r,...Array(e.length-1).fill(t),n],e)}function Pl(e){return new st([e],[])}var s0=Pl("");function a0(e,...t){return new st(e,t)}function xl(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function De(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function Wi(e){let t=new Qt;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}var bi={enumerable:!0,configurable:!0,writable:!0};function Nl(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>bi,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var $a=Symbol.for("nodejs.util.inspect.custom");function Rt(e,t){let r=o0(t),n=new Set,i=new Proxy(e,{get(s,a){if(n.has(a))return s[a];let o=r.get(a);return o?o.getPropertyValue(a):s[a]},has(s,a){if(n.has(a))return!0;let o=r.get(a);return o?o.has?.(a)??!0:Reflect.has(s,a)},ownKeys(s){let a=_a(Reflect.ownKeys(s),r),o=_a(Array.from(r.keys()),r);return[...new Set([...a,...o,...n])]},set(s,a,o){return r.get(a)?.getPropertyDescriptor?.(a)?.writable===!1?!1:(n.add(a),Reflect.set(s,a,o))},getOwnPropertyDescriptor(s,a){let o=Reflect.getOwnPropertyDescriptor(s,a);if(o&&!o.configurable)return o;let l=r.get(a);return l?l.getPropertyDescriptor?{...bi,...l?.getPropertyDescriptor(a)}:bi:o},defineProperty(s,a,o){return n.add(a),Reflect.defineProperty(s,a,o)},getPrototypeOf:()=>Object.prototype});return i[$a]=function(){let s={...this};return delete s[$a],s},i}function o0(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function _a(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function Ei(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function Ji(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function l0(e){if(e===void 0)return"";let t=Hi(e);return new Jo(0,{colors:Yo}).write(t).toString()}var u0="P2037";function Yi({error:e,user_facing_error:t},r,n){return t.error_code?new rt(c0(t,n),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new ge(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}function c0(e,t){let r=e.message;return(t==="postgresql"||t==="postgres"||t==="mysql")&&e.error_code===u0&&(r+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),r}var fr="<unknown>";function d0(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=p0(n)||g0(n)||v0(n)||P0(n)||E0(n);return i&&r.push(i),r},[])}var f0=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,h0=/\((\S*)(?::(\d+))(?::(\d+))\)/;function p0(e){var t=f0.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=h0.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||fr,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var m0=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function g0(e){var t=m0.exec(e);return t?{file:t[2],methodName:t[1]||fr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var y0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,w0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function v0(e){var t=y0.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=w0.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||fr,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var b0=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function E0(e){var t=b0.exec(e);return t?{file:t[3],methodName:t[1]||fr,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var S0=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function P0(e){var t=S0.exec(e);return t?{file:t[2],methodName:t[1]||fr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var x0=class{getLocation(){return null}},N0=class{_error;constructor(){this._error=new Error}getLocation(){let e=this._error.stack;if(!e)return null;let t=d0(e).find(r=>{if(!r.file)return!1;let n=Cm(r.file);return n!=="<anonymous>"&&!n.includes("@prisma")&&!n.includes("/packages/client/src/runtime/")&&!n.endsWith("/runtime/binary.js")&&!n.endsWith("/runtime/library.js")&&!n.endsWith("/runtime/edge.js")&&!n.endsWith("/runtime/edge-esm.js")&&!n.startsWith("internal/")&&!r.methodName.includes("new ")&&!r.methodName.includes("getCallSite")&&!r.methodName.includes("Proxy.")&&r.methodName.split(".").length<4});return!t||!t.file?null:{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}}};function zt(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new x0:new N0}var $0={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Hr(e={}){let t=_0(e);return Object.entries(t).reduce((r,[n,i])=>($0[n]!==void 0?r.select[n]={select:i}:r[n]=i,r),{select:{}})}function _0(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function Si(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function T0(e,t){let r=Si(e);return t({action:"aggregate",unpacker:r,argsMapper:Hr})(e)}function R0(e={}){let{select:t,...r}=e;return Hr(typeof t=="object"?{...r,_count:t}:{...r,_count:{_all:!0}})}function O0(e={}){return typeof e.select=="object"?t=>Si(e)(t)._count:t=>Si(e)(t)._count._all}function A0(e,t){return t({action:"count",unpacker:O0(e),argsMapper:R0})(e)}function I0(e={}){let t=Hr(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function q0(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function D0(e,t){return t({action:"groupBy",unpacker:q0(e),argsMapper:I0})(e)}function j0(e,t,r){if(t==="aggregate")return n=>T0(n,r);if(t==="count")return n=>A0(n,r);if(t==="groupBy")return n=>D0(n,r)}function k0(e,t){let r=t.fields.filter(i=>!i.relationName),n=Bm(r,"name");return new Proxy({},{get(i,s){if(s in i||typeof s=="symbol")return i[s];let a=n[s];if(a)return new sl(e,s,a.type,a.isList,a.kind==="enum")},...Nl(Object.keys(n))})}var $l=e=>Array.isArray(e)?e:e.split("."),_l=(e,t)=>$l(t).reduce((r,n)=>r&&r[n],e),C0=(e,t,r)=>$l(t).reduceRight((n,i,s,a)=>Object.assign({},_l(e,a.slice(0,s)),{[i]:n}),r);function L0(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function V0(e,t,r){return t===void 0?e??{}:C0(t,r,e||!0)}function Tl(e,t,r,n,i,s){let a=e._runtimeDataModel.models[t].fields.reduce((o,l)=>({...o,[l.name]:l}),{});return o=>{let l=zt(e._errorFormat),u=L0(n,i),c=V0(o,s,u),d=r({dataPath:u,callsite:l})(c),f=F0(e,t);return new Proxy(d,{get(h,g){if(!f.includes(g))return h[g];let m=[a[g].type,r,g],A=[u,c];return Tl(e,...m,...A)},...Nl([...f,...Object.getOwnPropertyNames(d)])})}}function F0(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var M0=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],U0=["aggregate","count","groupBy"];function Ta(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[B0(e,t),H0(e,t),xl(r),De("name",()=>t),De("$name",()=>t),De("$parent",()=>e._appliedParent)];return Rt({},n)}function B0(e,t){let r=dr(t),n=Object.keys(en).concat("count");return{getKeys(){return n},getPropertyValue(i){let s=i,a=o=>l=>{let u=zt(e._errorFormat);return e._createPrismaPromise(c=>{let d={args:l,dataPath:[],action:s,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:c,callsite:u};return e._request({...d,...o})},{action:s,args:l,model:t})};return M0.includes(s)?Tl(e,t,a):G0(i)?j0(e,i,a):a({})}}}function G0(e){return U0.includes(e)}function H0(e,t){return Wi(De("fields",()=>{let r=e._runtimeDataModel.models[t];return k0(t,r)}))}function K0(e){return e.replace(/^./,t=>t.toUpperCase())}var Pi=Symbol();function xi(e){let t=[W0(e),J0(e),De(Pi,()=>e),De("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(xl(r)),Rt(e,t)}function W0(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function J0(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(dr),n=[...new Set(t.concat(r))];return Wi({getKeys(){return n},getPropertyValue(i){let s=K0(i);if(e._runtimeDataModel.models[s]!==void 0)return Ta(e,s);if(e._runtimeDataModel.models[i]!==void 0)return Ta(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function Y0(e){return e[Pi]?e[Pi]:e}function Q0(e){if(typeof e=="function")return e(this);if(e.client?.__AccelerateEngine){let r=e.client.__AccelerateEngine;this._originalClient._engine=new r(this._originalClient._accelerateEngineConfig)}let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return xi(t)}function z0({result:e,modelName:t,select:r,omit:n,extensions:i}){let s=i.getAllComputedFields(t);if(!s)return e;let a=[],o=[];for(let l of Object.values(s)){if(n){if(n[l.name])continue;let u=l.needs.filter(c=>n[c]);u.length>0&&o.push(Ei(u))}else if(r){if(!r[l.name])continue;let u=l.needs.filter(c=>!r[c]);u.length>0&&o.push(Ei(u))}X0(e,l.needs)&&a.push(Z0(l,Rt(e,a)))}return a.length>0||o.length>0?Rt(e,[...a,...o]):e}function X0(e,t){return t.every(r=>Mm(e,r))}function Z0(e,t){return Wi(De(e.name,()=>e.compute(t)))}function Qi({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=Qi({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let s=e(t,i,r)??t;return r.include&&Ra({includeOrSelect:r.include,result:s,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Ra({includeOrSelect:r.select,result:s,parentModelName:i,runtimeDataModel:n,visitor:e}),s}function Ra({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[s,a]of Object.entries(e)){if(!a||t[s]==null||pt(a))continue;let o=n.models[r].fields.find(u=>u.name===s);if(!o||o.kind!=="object"||!o.relationName)continue;let l=typeof a=="object"?a:{};t[s]=Qi({visitor:i,result:t[s],args:l,modelName:o.type,runtimeDataModel:n})}}function ew({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:s}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:Qi({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,o,l)=>{let u=dr(o);return z0({result:a,modelName:u,select:l.select,omit:l.select?void 0:{...s?.[u],...l.omit},extensions:n})}})}var tw=["$connect","$disconnect","$on","$transaction","$extends"],rw=tw;function nw(e){if(e instanceof st)return iw(e);if(Sl(e))return sw(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=Xt(e[n]);return r}let t={};for(let r in e)t[r]=Xt(e[r]);return t}function iw(e){return new st(e.strings,e.values)}function sw(e){return new El(e.sql,e.values)}function Xt(e){if(typeof e!="object"||e==null||e instanceof nn||Ui(e))return e;if(Vi(e))return new Zr(e.toFixed());if(Ci(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Xt(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:Xt(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Xt(e[r]);return t}ki(e,"Unknown value")}function Rl(e,t,r,n=0){return e._createPrismaPromise(i=>{let s=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:nw(t.args??{}),__internalParams:t,query:(a,o=t)=>{let l=o.customDataProxyFetch;return o.customDataProxyFetch=Al(s,l),o.args=a,Rl(e,o,r,n+1)}})})}function aw(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,s=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let a=e._extensions.getAllQueryCallbacks(r??"$none",s);return Rl(e,t,a)}function ow(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Ol(r,n,0,e):e(r)}}function Ol(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,s=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(a=>({model:a.modelName,operation:a.action,args:a.args})),transaction:s?{isolationLevel:s.kind==="batch"?s.isolationLevel:void 0}:void 0},__internalParams:e,query(a,o=e){let l=o.customDataProxyFetch;return o.customDataProxyFetch=Al(i,l),Ol(o,t,r+1,n)}})}var Oa=e=>e;function Al(e=Oa,t=Oa){return r=>e(t(r))}var Aa=le("prisma:client"),Ia={Vercel:"vercel","Netlify CI":"netlify"};function lw({postinstall:e,ciName:t,clientVersion:r,generator:n}){if(Aa("checkPlatformCaching:postinstall",e),Aa("checkPlatformCaching:ciName",t),e===!0&&!(n?.output&&typeof(n.output.fromEnvVar??n.output.value)=="string")&&t&&t in Ia){let i=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${Ia[t]}-build`;throw console.error(i),new X(i,r)}}function uw(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}var cw=M(require("node:fs")),Cr=M(require("node:path"));function Il(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${dw(e)}`}function dw(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:n}=e,i={fromEnvVar:null,value:n},s=[...r,i];return $m({...t,binaryTargets:s})}function sn(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function an(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(r=>`  ${r}`).join(`
`)}`}function fw(e){let{runtimeBinaryTarget:t}=e;return`${sn(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${Il(e)}

${an(e)}`}function ql(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function Dl(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function hw(e){let{queryEngineName:t}=e;return`${sn(e)}${Dl(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${ql("engine-not-found-bundler-investigation")}

${an(e)}`}function pw(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,n=r.find(i=>i.native);return`${sn(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${Il(e)}

${an(e)}`}function mw(e){let{queryEngineName:t}=e;return`${sn(e)}${Dl(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${ql("engine-not-found-tooling-investigation")}

${an(e)}`}var gw=le("prisma:client:engines:resolveEnginePath"),yw=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function ww(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(r!==void 0)return r;let{enginePath:n,searchedLocations:i}=await vw(e,t);if(gw("enginePath",n),n!==void 0&&e==="binary"&&vm(n),n!==void 0)return t.prismaPath=n;let s=await Ai(),a=t.generator?.binaryTargets??[],o=a.some(f=>f.native),l=!a.some(f=>f.value===s),u=__filename.match(yw())===null,c={searchedLocations:i,generatorBinaryTargets:a,generator:t.generator,runtimeBinaryTarget:s,queryEngineName:jl(e,s),expectedLocation:Cr.default.relative(process.cwd(),t.dirname),errorStack:new Error().stack},d;throw o&&l?d=pw(c):l?d=fw(c):u?d=hw(c):d=mw(c),new X(d,t.clientVersion)}async function vw(e,t){let r=await Ai(),n=[],i=[t.dirname,Cr.default.resolve(__dirname,".."),t.generator?.output?.value??__dirname,Cr.default.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];__filename.includes("resolveEnginePath")&&i.push(wm());for(let s of i){let a=jl(e,r),o=Cr.default.join(s,a);if(n.push(s),cw.default.existsSync(o))return{enginePath:o,searchedLocations:n}}return{enginePath:void 0,searchedLocations:n}}function jl(e,t){return e==="library"?dp(t,"fs"):`query-engine-${t}${t==="windows"?".exe":""}`}function bw(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function Ew(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var Sw=M(qh());function Pw({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,Sw.default)({user:t,repo:r,template:n,title:e,body:i})}function xw({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:s,query:a}){let o=ap(6e3-(a?.length??0)),l=Ew(oi(o)),u=n?`# Description
\`\`\`
${n}
\`\`\``:"",c=oi(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${s?.padEnd(19)}|

${u}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${a?bw(a):""}
\`\`\`
`),d=Pw({title:r,body:c});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${ye(d)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function Nw(e,t){throw new Error(t)}function $w(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function _w(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Kr(e){return e===null?e:Array.isArray(e)?e.map(Kr):typeof e=="object"?$w(e)?Tw(e):e.constructor!==null&&e.constructor.name!=="Object"?e:_w(e,Kr):e}function Tw({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new gt(t);case"Json":return JSON.parse(t);default:Nw(t,"Unknown tagged value")}}var Rw="6.19.0",Ow=()=>globalThis.process?.release?.name==="node",Aw=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Iw=()=>!!globalThis.Deno,qw=()=>typeof globalThis.Netlify=="object",Dw=()=>typeof globalThis.EdgeRuntime=="object",jw=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function kw(){return[[qw,"netlify"],[Dw,"edge-light"],[jw,"workerd"],[Iw,"deno"],[Aw,"bun"],[Ow,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??""}var Cw={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function kl(){let e=kw();return{id:e,prettyName:Cw[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function zi({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,s=Object.keys(e)[0],a=e[s]?.url,o=t[s]?.url;if(s===void 0?i=void 0:o?i=o:a?.value?i=a.value:a?.fromEnvVar&&(i=r[a.fromEnvVar]),a?.fromEnvVar!==void 0&&i===void 0)throw new X(`error: Environment variable not found: ${a.fromEnvVar}.`,n);if(i===void 0)throw new X("error: Missing URL environment variable, value, or override.",n);return i}var Lw=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},Ot=class extends Lw{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function ie(e,t){return{...e,isRetryable:t}}var Lr=class extends Ot{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,ie(t,!1))}};z(Lr,"InvalidDatasourceError");function Vw(e){let t={clientVersion:e.clientVersion},r=Object.keys(e.inlineDatasources)[0],n=zi({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,...typeof process<"u"?process.env:{}}}),i;try{i=new URL(n)}catch{throw new Lr(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:s,searchParams:a}=i;if(s!=="prisma:"&&s!==Po)throw new Lr(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let o=a.get("api_key");if(o===null||o.length<1)throw new Lr(`Error validating datasource \`${r}\`: the URL must contain a valid API key`,t);let l=xm(i)?"http:":"https:";process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&i.searchParams.has("use_http")&&(l="http:");let u=new URL(i.href.replace(s,l));return{apiKey:o,url:u}}var Fw=M(Ti()),Mw=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Fw.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let n=this.#e();return n.length>0&&(r["X-Capture-Telemetry"]=n.join(", ")),r}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function Uw(e){return e[0]*1e3+e[1]/1e6}function qa(e){return new Date(Uw(e))}var Ni=class extends Ot{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",ie(e,!0))}};z(Ni,"ForcedRetryError");var Xi=class extends Ot{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,ie(t,!1))}};z(Xi,"NotImplementedYetError");var be=class extends Ot{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let n=`(The request id was: ${r})`;this.message=this.message+" "+n}}},Zi=class extends be{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",ie(e,!0))}};z(Zi,"SchemaMissingError");var Cl="This request could not be understood by the server",Ll=class extends be{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||Cl,ie(e,!1)),r&&(this.code=r)}};z(Ll,"BadRequestError");var Vl=class extends be{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",ie(e,!0)),this.logs=t}};z(Vl,"HealthcheckTimeoutError");var Fl=class extends be{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,ie(e,!0)),this.logs=r}};z(Fl,"EngineStartupError");var Ml=class extends be{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",ie(e,!1))}};z(Ml,"EngineVersionNotSupportedError");var Ul="Request timed out",Bl=class extends be{name="GatewayTimeoutError";code="P5009";constructor(e,t=Ul){super(t,ie(e,!1))}};z(Bl,"GatewayTimeoutError");var Bw="Interactive transaction error",Gl=class extends be{name="InteractiveTransactionError";code="P5015";constructor(e,t=Bw){super(t,ie(e,!1))}};z(Gl,"InteractiveTransactionError");var Gw="Request parameters are invalid",Hl=class extends be{name="InvalidRequestError";code="P5011";constructor(e,t=Gw){super(t,ie(e,!1))}};z(Hl,"InvalidRequestError");var Kl="Requested resource does not exist",Wl=class extends be{name="NotFoundError";code="P5003";constructor(e,t=Kl){super(t,ie(e,!1))}};z(Wl,"NotFoundError");var Jl="Unknown server error",$i=class extends be{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||Jl,ie(e,!0)),this.logs=r}};z($i,"ServerError");var Yl="Unauthorized, check your connection string",Ql=class extends be{name="UnauthorizedError";code="P5007";constructor(e,t=Yl){super(t,ie(e,!1))}};z(Ql,"UnauthorizedError");var zl="Usage exceeded, retry again later",Xl=class extends be{name="UsageExceededError";code="P5008";constructor(e,t=zl){super(t,ie(e,!0))}};z(Xl,"UsageExceededError");async function Hw(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let r=JSON.parse(t);if(typeof r=="string")return r==="InternalDataProxyError"?{type:"DataProxyError",body:r}:{type:"UnknownTextError",body:r};if(typeof r=="object"&&r!==null){if("is_panic"in r&&"message"in r&&"error_code"in r)return{type:"QueryEngineError",body:r};if("EngineNotStarted"in r||"InteractiveTransactionMisrouted"in r||"InvalidRequestError"in r){let n=Object.values(r)[0].reason;return typeof n=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(n)?{type:"UnknownJsonError",body:r}:{type:"DataProxyError",body:r}}}return{type:"UnknownJsonError",body:r}}catch{return t===""?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function Or(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await Hw(e);if(n.type==="QueryEngineError")throw new rt(n.body.message,{code:n.body.error_code,clientVersion:t});if(n.type==="DataProxyError"){if(n.body==="InternalDataProxyError")throw new $i(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if(n.body.EngineNotStarted.reason==="SchemaMissing")return new Zi(r);if(n.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new Ml(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:i,logs:s}=n.body.EngineNotStarted.reason.EngineStartupError;throw new Fl(r,i,s)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:i,error_code:s}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new X(i,t,s)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:i}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new Vl(r,i)}}if("InteractiveTransactionMisrouted"in n.body){let i={IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"};throw new Gl(r,i[n.body.InteractiveTransactionMisrouted.reason])}if("InvalidRequestError"in n.body)throw new Hl(r,n.body.InvalidRequestError.reason)}if(e.status===401||e.status===403)throw new Ql(r,St(Yl,n));if(e.status===404)return new Wl(r,St(Kl,n));if(e.status===429)throw new Xl(r,St(zl,n));if(e.status===504)throw new Bl(r,St(Ul,n));if(e.status>=500)throw new $i(r,St(Jl,n));if(e.status>=400)throw new Ll(r,St(Cl,n))}function St(e,t){return t.type==="EmptyError"?e:`${e}: ${JSON.stringify(t)}`}function Kw(e){let t=Math.pow(2,e)*50,r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(i=>setTimeout(()=>i(n),n))}var Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ww(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,i=n%3,s=n-i,a,o,l,u,c;for(let d=0;d<s;d=d+3)c=t[d]<<16|t[d+1]<<8|t[d+2],a=(c&16515072)>>18,o=(c&258048)>>12,l=(c&4032)>>6,u=c&63,r+=Me[a]+Me[o]+Me[l]+Me[u];return i==1?(c=t[s],a=(c&252)>>2,o=(c&3)<<4,r+=Me[a]+Me[o]+"=="):i==2&&(c=t[s]<<8|t[s+1],a=(c&64512)>>10,o=(c&1008)>>4,l=(c&15)<<2,r+=Me[a]+Me[o]+Me[l]+"="),r}function Jw(e){if(e.generator?.previewFeatures.some(t=>t.toLowerCase().includes("metrics")))throw new X("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}var Yw={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},Zl=class extends Ot{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,ie(t,!0))}};z(Zl,"RequestError");async function Kt(e,t,r=n=>n){let{clientVersion:n,...i}=t,s=r(fetch);try{return await s(e,i)}catch(a){let o=a.message??"Unknown error";throw new Zl(o,{clientVersion:n,cause:a})}}var Qw=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,eu=le("prisma:client:dataproxyEngine");async function zw(e,t){let r=Yw["@prisma/engines-version"],n=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&n!=="0.0.0"&&n!=="in-memory")return n;let[i,s]=n?.split("-")??[];if(s===void 0&&Qw.test(i))return i;if(s!==void 0||n==="0.0.0"||n==="in-memory"){let[a]=r.split("-")??[],[o,l,u]=a.split("."),c=Zw(`<=${o}.${l}.${u}`),d=await Kt(c,{clientVersion:n});if(!d.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${d.status} ${d.statusText}, response body: ${await d.text()||"<empty body>"}`);let f=await d.text();eu("length of body fetched from unpkg.com",f.length);let h;try{h=JSON.parse(f)}catch(g){throw console.error("JSON.parse error: body fetched from unpkg.com: ",f),g}return h.version}throw new Xi("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function Xw(e,t){let r=await zw(e,t);return eu("version",r),r}function Zw(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var Da=3,Bt=le("prisma:client:dataproxyEngine"),ev=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){Jw(e),this.config=e,this.env=e.env,this.inlineSchema=Ww(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new Mw({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await Xw(this.host,this.config),Bt("host",this.host),Bt("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(t=>{switch(t.level){case"debug":case"trace":Bt(t);break;case"error":case"warn":case"info":{this.logEmitter.emit(t.level,{timestamp:qa(t.timestamp),message:t.attributes.message??"",target:t.target??"BinaryEngine"});break}case"query":{this.logEmitter.emit("query",{query:t.attributes.query??"",timestamp:qa(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"BinaryEngine"});break}default:t.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){let e={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(e,async()=>{let t=await Kt(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});t.ok||Bt("schema response status",t.status);let r=await Or(t,this.clientVersion);if(r)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${r.message}`,timestamp:new Date,target:""}),r;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i=r?.kind==="itx"?r.options:void 0,s=Ji(e,r);return(await this.requestInternal({body:s,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t})).map(a=>(a.extensions&&this.propagateResponseExtensions(a.extensions),"errors"in a?this.convertProtocolErrorsToClientError(a.errors):a))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let s=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(s);let a=await Kt(s,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);a.ok||Bt("graphql response status",a.status),await this.handleError(await Or(a,this.clientVersion));let o=await a.json();if(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o)throw this.convertProtocolErrorsToClientError(o.errors);return"batchResult"in o?o.batchResult:o}})}async transaction(e,t,r){let n={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${n[e]} transaction`,callback:async({logHttpCall:i})=>{if(e==="start"){let s=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),a=await this.url("transaction/start");i(a);let o=await Kt(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:s,clientVersion:this.clientVersion});await this.handleError(await Or(o,this.clientVersion));let l=await o.json(),{extensions:u}=l;u&&this.propagateResponseExtensions(u);let c=l.id,d=l["data-proxy"].endpoint;return{id:c,payload:{endpoint:d}}}else{let s=`${r.payload.endpoint}/${e}`;i(s);let a=await Kt(s,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await Or(a,this.clientVersion));let o=await a.json(),{extensions:l}=o;l&&this.propagateResponseExtensions(l);return}}})}getURLAndAPIKey(){return Vw({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new Xi("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=n=>{this.logEmitter.emit("info",{message:`Calling ${n} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof Ot)||!n.isRetryable)throw n;if(t>=Da)throw n instanceof Ni?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${Da} failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let i=await Kw(t);this.logEmitter.emit("warn",{message:`Retrying after ${i}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof Zi)throw await this.uploadSchema(),new Ni({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return e.length===1?Yi(e[0],this.config.clientVersion,this.config.activeProvider):new ge(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function tv(e){if(e?.kind==="itx")return e.options.id}var ja=M(require("node:os")),rv=M(require("node:path")),Wn=Symbol("PrismaLibraryEngineCache");function nv(){let e=globalThis;return e[Wn]===void 0&&(e[Wn]={}),e[Wn]}function iv(e){let t=nv();if(t[e]!==void 0)return t[e];let r=rv.default.toNamespacedPath(e),n={exports:{}},i=0;return process.platform!=="win32"&&(i=ja.default.constants.dlopen.RTLD_LAZY|ja.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(n,r,i),t[e]=n.exports,n.exports}var sv={async loadLibrary(e){let t=await Ap(),r=await ww("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>iv(r))}catch(n){let i=bm({e:n,platformInfo:t,id:r});throw new X(i,e.clientVersion)}}},Jn,av={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(r===void 0)throw new X(`The \`adapter\` option for \`PrismaClient\` is required in this context (${kl().prettyName})`,t);if(n===void 0)throw new X("WASM engine was unexpectedly `undefined`",t);Jn===void 0&&(Jn=(async()=>{let s=await n.getRuntime(),a=await n.getQueryEngineWasmModule();if(a==null)throw new X("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let o={"./query_engine_bg.js":s},l=new WebAssembly.Instance(a,o),u=l.exports.__wbindgen_start;return s.__wbg_set_wasm(l.exports),u(),s.QueryEngine})());let i=await Jn;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:i}}},ov="P2036",Te=le("prisma:client:libraryEngine");function lv(e){return e.item_type==="query"&&"query"in e}function uv(e){return"level"in e?e.level==="error"&&e.message==="PANIC":!1}var ka=[...cp,"native"],cv=0xffffffffffffffffn,Yn=1n;function dv(){let e=Yn++;return Yn>cv&&(Yn=1n),e}var Ca=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??sv,e.engineWasm!==void 0&&(this.libraryLoader=t??av),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;r!==void 0&&n!==void 0&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r=dv().toString();try{return await e(...t,r)}finally{if(this.tracingHelper.isEnabled()){let n=await this.engine?.trace(r);if(n){let i=JSON.parse(n);this.tracingHelper.dispatchEngineSpans(i.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){await this.start();let n=await this.adapterPromise,i=JSON.stringify(t),s;if(e==="start"){let o=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});s=await this.engine?.startTransaction(o,i)}else e==="commit"?s=await this.engine?.commitTransaction(r.id,i):e==="rollback"&&(s=await this.engine?.rollbackTransaction(r.id,i));let a=this.parseEngineResponse(s);if(fv(a)){let o=this.getExternalAdapterError(a,n?.errorRegistry);throw o?o.error:new rt(a.message,{code:a.error_code,clientVersion:this.config.clientVersion,meta:a.meta})}else if(typeof a.message=="string")throw new ge(a.message,{clientVersion:this.config.clientVersion});return a}async instantiateLibrary(){if(Te("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;up(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>Ai());if(!ka.includes(e))throw new X(`Unknown ${ht("PRISMA_QUERY_ENGINE_LIBRARY")} ${ht(xe(e))}. Possible binaryTargets: ${Zt(ka.join(", "))} or a path to the query engine library.
You may have to run ${Zt("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new ge("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new ge("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(da));let t=await this.adapterPromise;t&&Te("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},r=>{e.deref()?.logger(r)},t))}catch(e){let t=e,r=this.parseInitError(t.message);throw typeof r=="string"?t:new X(r.message,this.config.clientVersion,r.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown",lv(t)?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):uv(t)?this.loggerRustPanic=new et(Qn(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return Te(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{Te("library starting");try{let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(t)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(da)),await this.adapterPromise,Te("library started")}catch(t){let r=this.parseInitError(t.message);throw typeof r=="string"?t:new X(r.message,this.config.clientVersion,r.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return Te("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(r=>setImmediate(r)),Te("library stopping");let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(t)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,Te("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){Te(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start();let s=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let a=this.parseEngineResponse(await this.executingQueryPromise);if(a.errors)throw a.errors.length===1?this.buildQueryError(a.errors[0],s?.errorRegistry):new ge(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:a}}catch(s){if(s instanceof X)throw s;if(s.code==="GenericFailure"&&s.message?.startsWith("PANIC:"))throw new et(Qn(this,s.message),this.config.clientVersion);let a=this.parseRequestError(s.message);throw typeof a=="string"?s:new ge(`${a.message}
${a.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){Te("requestBatch");let n=Ji(e,t);await this.start();let i=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),tv(t));let s=await this.executingQueryPromise,a=this.parseEngineResponse(s);if(a.errors)throw a.errors.length===1?this.buildQueryError(a.errors[0],i?.errorRegistry):new ge(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});let{batchResult:o,errors:l}=a;if(Array.isArray(o))return o.map(u=>u.errors&&u.errors.length>0?this.loggerRustPanic??this.buildQueryError(u.errors[0],i?.errorRegistry):{data:u});throw l&&l.length===1?new Error(l[0].error):new Error(JSON.stringify(a))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new et(Qn(this,e.user_facing_error.message),this.config.clientVersion);let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:Yi(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if(e.error_code===ov&&t){let r=e.meta?.id;pa(typeof r=="number","Malformed external JS error received from the engine");let n=t.consumeError(r);return pa(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return e.format==="prometheus"?t:this.parseEngineResponse(t)}};function fv(e){return typeof e=="object"&&e!==null&&e.error_code!==void 0}function Qn(e,t){return xw({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function hv({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let i=[],s=[],a=m=>{i.push({_tag:"warning",value:m})},o=m=>{let A=m.join(`
`);s.push({_tag:"error",value:A})},l=!!e?.startsWith("prisma://"),u=xo(e),c=!!t,d=l||u;!c&&r&&d&&n!=="client"&&n!=="wasm-compiler-edge"&&a(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let f=d||!r;c&&(f||n==="edge")&&(n==="edge"?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):d?o(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):r||o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let h={accelerate:f,ppg:u,driverAdapters:c};function g(m){return m.length>0}return g(s)?{ok:!1,diagnostics:{warnings:i,errors:s},isUsing:h}:{ok:!0,diagnostics:{warnings:i},isUsing:h}}function pv({copyEngine:e=!0},t){let r;try{r=zi({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:i,diagnostics:s}=hv({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let d of s.warnings)Ao(...d.value);if(!n){let d=s.errors[0];throw new Be(d.value,{clientVersion:t.clientVersion})}let a=si(t.generator),o=a==="library",l=a==="binary",u=a==="client",c=(i.accelerate||i.ppg)&&!i.driverAdapters;return i.accelerate?new ev(t):(i.driverAdapters,o?new Ca(t):(i.accelerate,new Ca(t)))}function mv({generator:e}){return e?.previewFeatures??[]}var gv=e=>({command:e}),yv=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);function Gt(e){try{return La(e,"fast")}catch{return La(e,"slow")}}function La(e,t){return JSON.stringify(e.map(r=>tu(r,t)))}function tu(e,t){if(Array.isArray(e))return e.map(r=>tu(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(Ci(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Zr.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(wv(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?ru(e):e}function wv(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function ru(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(Va);let t={};for(let r of Object.keys(e))t[r]=Va(e[r]);return t}function Va(e){return typeof e=="bigint"?e.toString():ru(e)}var vv=/^(\s*alter\s)/i,Fa=le("prisma:client");function Ma(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&vv.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Ua=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Sl(r))n=r.sql,i={values:Gt(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[s,...a]=r;n=s,i={values:Gt(a||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:Gt(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:Gt(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=yv(r),i={values:Gt(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?Fa(`prisma.${e}(${n}, ${i.values})`):Fa(`prisma.${e}(${n})`),{query:n,parameters:i}},bv={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new st(t,r)}},Ev={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function Ba(e){return function(t,r){let n,i=(s=e)=>{try{return s===void 0||s?.kind==="itx"?n??=Ga(t(s)):Ga(t(s))}catch(a){return Promise.reject(a)}};return{get spec(){return r},then(s,a){return i().then(s,a)},catch(s){return i().catch(s)},finally(s){return i().finally(s)},requestTransaction(s){let a=i(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function Ga(e){return typeof e.then=="function"?e:Promise.resolve(e)}var Sv=fm.split(".")[0],Pv={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},xv=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${Sv}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??Pv}};function Nv(){return new xv}function $v(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}function _v(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}function nu(e){return typeof e.batchRequestIdx=="number"}function Tv(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(_i(e.query.arguments)),t.push(_i(e.query.selection)),t.join("")}function _i(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return typeof r=="object"&&r!==null?`(${t} ${_i(r)})`:t}).join(" ")})`}var Rv={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function Ha(e){return Rv[e]}var Ov=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):(t.sort((r,n)=>this.options.batchOrder(r.request,n.request)),this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){let i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function dt(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Zr(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>dt("bigint",r));case"bytes-array":return t.map(r=>dt("bytes",r));case"decimal-array":return t.map(r=>dt("decimal",r));case"datetime-array":return t.map(r=>dt("datetime",r));case"date-array":return t.map(r=>dt("date",r));case"time-array":return t.map(r=>dt("time",r));default:return t}}function iu(e){let t=[],r=Av(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],s={...r};for(let a=0;a<i.length;a++)s[e.columns[a]]=dt(e.types[a],i[a]);t.push(s)}return t}function Av(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Iv=le("prisma:client:request_handler"),qv=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new Ov({batchLoader:ow(async({requests:r,customDataProxyFetch:n})=>{let{transaction:i,otelParentCtx:s}=r[0],a=r.map(u=>u.protocolQuery),o=this.client._tracingHelper.getTraceParent(s),l=r.some(u=>Ha(u.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:o,transaction:Dv(i),containsWrite:l,customDataProxyFetch:n})).map((u,c)=>{if(u instanceof Error)return u;try{return this.mapQueryEngineResult(r[c],u)}catch(d){return d}})}),singleLoader:async r=>{let n=r.transaction?.kind==="itx"?su(r.transaction):void 0,i=await this.client._engine.request(r.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:n,isWrite:Ha(r.protocolQuery.action),customDataProxyFetch:r.customDataProxyFetch});return this.mapQueryEngineResult(r,i)},batchBy:r=>r.transaction?.id?`transaction-${r.transaction.id}`:Tv(r.protocolQuery),batchOrder(r,n){return r.transaction?.kind==="batch"&&n.transaction?.kind==="batch"?r.transaction.index-n.transaction.index:0}})}async request(e){try{return await this.dataloader.request(e)}catch(t){let{clientMethod:r,callsite:n,transaction:i,args:s,modelName:a}=e;this.handleAndLogRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:s,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:s,globalOmit:a}){if(Iv(e),jv(e,n))throw e;if(e instanceof rt&&kv(e)){let l=au(e.meta);cl({args:i,errors:[l],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:a})}let o=e.message;if(r&&(o=Ko({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:this.client._errorFormat==="pretty",message:o})),o=this.sanitizeMessage(o),e.code){let l=s?{modelName:s,...e.meta}:e.meta;throw new rt(o,{code:e.code,clientVersion:this.client._clientVersion,meta:l,batchRequestIdx:e.batchRequestIdx})}else{if(e.isPanic)throw new et(o,this.client._clientVersion);if(e instanceof ge)throw new ge(o,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof X)throw new X(o,this.client._clientVersion);if(e instanceof et)throw new et(o,this.client._clientVersion)}throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?oi(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=Object.values(e)[0],s=t.filter(l=>l!=="select"&&l!=="include"),a=_l(i,s),o=n==="queryRaw"?iu(a):Kr(a);return r?r(o):o}get[Symbol.toStringTag](){return"RequestHandler"}};function Dv(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:su(e)};ki(e,"Unknown transaction kind")}}function su(e){return{id:e.id,payload:e.payload}}function jv(e,t){return nu(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function kv(e){return e.code==="P2009"||e.code==="P2012"}function au(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(au)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var Cv=Rw,Lv=M(ro()),H=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};z(H,"PrismaClientConstructorValidationError");var Ka=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],Wa=["pretty","colorless","minimal"],Ja=["info","query","warn","error"],Vv={datasources:(e,{datasourceNames:t})=>{if(e){if(typeof e!="object"||Array.isArray(e))throw new H(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let i=Pt(r,t)||` Available datasources: ${t.join(", ")}`;throw new H(`Unknown datasource ${r} provided to PrismaClient constructor.${i}`)}if(typeof n!="object"||Array.isArray(n))throw new H(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&typeof n=="object")for(let[i,s]of Object.entries(n)){if(i!=="url")throw new H(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof s!="string")throw new H(`Invalid value ${JSON.stringify(s)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&si(t.generator)==="client")throw new H('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(e!==null){if(e===void 0)throw new H('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(si(t.generator)==="binary")throw new H('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if(typeof e<"u"&&typeof e!="string")throw new H(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if(typeof e!="string")throw new H(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!Wa.includes(e)){let t=Pt(e,Wa);throw new H(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new H(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!Ja.includes(r)){let n=Pt(r,Ja);throw new H(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let s=["stdout","event"];if(!s.includes(i)){let a=Pt(i,s);throw new H(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${a}`)}}};if(r&&typeof r=="object")for(let[i,s]of Object.entries(r))if(n[i])n[i](s);else throw new H(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new H(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new H(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new H('"omit" option is expected to be an object.');if(e===null)throw new H('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let s=Uv(n,t.runtimeDataModel);if(!s){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[a,o]of Object.entries(i)){let l=s.fields.find(u=>u.name===a);if(!l){r.push({kind:"UnknownField",modelKey:n,fieldName:a});continue}if(l.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:a});continue}typeof o!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:a})}}if(r.length>0)throw new H(Bv(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new H(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Pt(r,t);throw new H(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Fv(e,t){for(let[r,n]of Object.entries(e)){if(!Ka.includes(r)){let i=Pt(r,Ka);throw new H(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}Vv[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new H('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Pt(e,t){if(t.length===0||typeof e!="string")return"";let r=Mv(e,t);return r?` Did you mean "${r}"?`:""}function Mv(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,Lv.default)(e,i)}));r.sort((i,s)=>i.distance<s.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Uv(e,t){return Ya(t.models,e)??Ya(t.types,e)}function Ya(e,t){let r=Object.keys(e).find(n=>Yr(n)===t);if(r)return e[r]}function Bv(e,t){let r=Hi(e);for(let s of t)switch(s.kind){case"UnknownModel":r.arguments.getField(s.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${s.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([s.modelKey,s.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${s.modelKey}" does not have a field named "${s.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([s.modelKey,s.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([s.modelKey,s.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=ul(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}function Gv(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,s=!1,a=0,o=()=>{s||(a++,a===e.length&&(s=!0,i?r(i):t(n)))},l=u=>{s||(s=!0,r(u))};for(let u=0;u<e.length;u++)e[u].then(c=>{n[u]=c,o()},c=>{if(!nu(c)){l(c);return}c.batchRequestIdx===u?l(c):(i||(i=c),o())})})}var We=le("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Hv={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Kv=Symbol.for("prisma.client.transaction.id"),Wv={id:0,nextId(){return++this.id}};function Jv(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Ba();constructor(n){e=n?.__internal?.configOverride?.(e)??e,lw(e),n&&Fv(n,e);let i=new r0.EventEmitter().on("error",()=>{});this._extensions=dl.empty(),this._previewFeatures=mv(e),this._clientVersion=e.clientVersion??Cv,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Nv();let s=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&Kn.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&Kn.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},a;if(n?.adapter){a=n.adapter;let l=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(a.provider!==l)throw new X(`The Driver Adapter \`${a.adapterName}\`, based on \`${a.provider}\`, is not compatible with the provider \`${l}\` specified in the Prisma schema.`,this._clientVersion);if(n.datasources||n.datasourceUrl!==void 0)throw new X("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let o=!a&&s&&To(s,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let l=n??{},u=l.__internal??{},c=u.debug===!0;c&&le.enable("prisma:client");let d=Kn.default.resolve(e.dirname,e.relativePath);n0.default.existsSync(d)||(d=e.dirname),We("dirname",e.dirname),We("relativePath",e.relativePath),We("cwd",d);let f=u.engine||{};if(l.errorFormat?this._errorFormat=l.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:d,dirname:e.dirname,enableDebugLogs:c,allowTriggerPanic:f.allowTriggerPanic,prismaPath:f.binaryPath??void 0,engineEndpoint:f.endpoint,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:l.log&&_v(l.log),logQueries:l.log&&!!(typeof l.log=="string"?l.log==="query":l.log.find(h=>typeof h=="string"?h==="query":h.level==="query")),env:o?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:uw(l,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:l.transactionOptions?.maxWait??2e3,timeout:l.transactionOptions?.timeout??5e3,isolationLevel:l.transactionOptions?.isolationLevel},logEmitter:i,isBundled:e.isBundled,adapter:a},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:zi,getBatchRequestPayload:Ji,prismaGraphQLToJSError:Yi,PrismaClientUnknownRequestError:ge,PrismaClientInitializationError:X,PrismaClientKnownRequestError:rt,debug:le("prisma:client:accelerateEngine"),engineVersion:e0.version,clientVersion:e.clientVersion}},We("clientVersion",e.clientVersion),this._engine=pv(e,this._engineConfig),this._requestHandler=new qv(this,i),l.log)for(let h of l.log){let g=typeof h=="string"?h:h.emit==="stdout"?h.level:null;g&&this.$on(g,m=>{ai.log(`${ai.tags[g]??""}`,m.message||m.query)})}}catch(l){throw l.clientVersion=this._clientVersion,l}return this._appliedParent=xi(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{op()}}$executeRawInternal(n,i,s,a){let o=this._activeProvider;return this._request({action:"executeRaw",args:s,transaction:n,clientMethod:i,argsMapper:Ua({clientMethod:i,activeProvider:o}),callsite:zt(this._errorFormat),dataPath:[],middlewareArgsMapper:a})}$executeRaw(n,...i){return this._createPrismaPromise(s=>{if(n.raw!==void 0||n.sql!==void 0){let[a,o]=Qa(n,i);return Ma(this._activeProvider,a.text,a.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(s,"$executeRaw",a,o)}throw new Be("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(s=>(Ma(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(s,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new Be(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:gv,callsite:zt(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,s,a){let o=this._activeProvider;return this._request({action:"queryRaw",args:s,transaction:n,clientMethod:i,argsMapper:Ua({clientMethod:i,activeProvider:o}),callsite:zt(this._errorFormat),dataPath:[],middlewareArgsMapper:a})}$queryRaw(n,...i){return this._createPrismaPromise(s=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(s,"$queryRaw",...Qa(n,i));throw new Be("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new Be("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(s=>this.$queryRawInternal(s,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let s=Wv.nextId(),a=$v(n.length),o=n.map((l,u)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let c=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,d={kind:"batch",id:s,index:u,isolationLevel:c,lock:a};return l.requestTransaction?.(d)??l});return Gv(o)}async _transactionWithCallback({callback:n,options:i}){let s={traceparent:this._tracingHelper.getTraceParent()},a={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},o=await this._engine.transaction("start",s,a),l;try{let u={kind:"itx",...o};l=await n(this._createItxClient(u)),await this._engine.transaction("commit",s,o)}catch(u){throw await this._engine.transaction("rollback",s,o).catch(()=>{}),u}return l}_createItxClient(n){return Rt(xi(Rt(Y0(this),[De("_appliedParent",()=>this._appliedParent._createItxClient(n)),De("_createPrismaPromise",()=>Ba(n)),De(Kv,()=>n.id)])),[Ei(rw)])}$transaction(n,i){let s;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?s=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:s=()=>this._transactionWithCallback({callback:n,options:i}):s=()=>this._transactionWithArray({promises:n,options:i});let a={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(a,s)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Hv,s={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},a={operation:{name:"operation",attributes:{method:s.action,model:s.model,name:s.model?`${s.model}.${s.action}`:s.action}}},o=async l=>{let{runInTransaction:u,args:c,...d}=l,f={...n,...d};c&&(f.args=i.middlewareArgsToRequestArgs(c)),n.transaction!==void 0&&u===!1&&delete f.transaction;let h=await aw(this,f);return f.model?ew({result:h,modelName:f.model,args:f.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(a.operation,()=>new t0.AsyncResource("prisma-client-request").runInAsyncScope(()=>o(s)))}async _executeRequest({args:n,clientMethod:i,dataPath:s,callsite:a,action:o,model:l,argsMapper:u,transaction:c,unpacker:d,otelParentCtx:f,customDataProxyFetch:h}){try{n=u?u(n):n;let g={name:"serialize"},m=this._tracingHelper.runInChildSpan(g,()=>yl({modelName:l,runtimeDataModel:this._runtimeDataModel,action:o,args:n,clientMethod:i,callsite:a,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return le.enabled("prisma:client")&&(We("Prisma Client call:"),We(`prisma.${i}(${l0(n)})`),We("Generated request:"),We(JSON.stringify(m,null,2)+`
`)),c?.kind==="batch"&&await c.lock,this._requestHandler.request({protocolQuery:m,modelName:l,action:o,clientMethod:i,dataPath:s,callsite:a,args:n,extensions:this._extensions,transaction:c,unpacker:d,otelParentCtx:f,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:h})}catch(g){throw g.clientVersion=this._clientVersion,g}}$metrics=new bl(this);_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=Q0}return t}function Qa(e,t){return Yv(e)?[new st(e,t),bv]:[e,Ev]}function Yv(e){return Array.isArray(e)&&Array.isArray(e.raw)}var Qv=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function zv(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Qv.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}function Xv(e){To(e,{conflictCheck:"warn"})}});var ts=y(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});var{PrismaClientKnownRequestError:Zv,PrismaClientUnknownRequestError:eb,PrismaClientRustPanicError:tb,PrismaClientInitializationError:rb,PrismaClientValidationError:nb,getPrismaClient:ib,sqltag:sb,empty:ab,join:ob,raw:lb,skip:Z$,Decimal:ub,Debug:e_,objectEnumValues:At,makeStrictEnum:cb,Extensions:uu,warnOnce:t_,defineDmmfProperty:db,Public:fb,getRuntime:r_,createParam:n_}=es(),Z={};pe.Prisma=Z;pe.$Enums={};Z.prismaVersion={client:"6.19.0",engine:"2ba551f319ab1df4bc874a89965d8b3641056773"};Z.PrismaClientKnownRequestError=Zv;Z.PrismaClientUnknownRequestError=eb;Z.PrismaClientRustPanicError=tb;Z.PrismaClientInitializationError=rb;Z.PrismaClientValidationError=nb;Z.Decimal=ub;Z.sql=sb;Z.empty=ab;Z.join=ob;Z.raw=lb;Z.validator=fb.validator;Z.getExtensionContext=uu.getExtensionContext;Z.defineExtension=uu.defineExtension;Z.DbNull=At.instances.DbNull;Z.JsonNull=At.instances.JsonNull;Z.AnyNull=At.instances.AnyNull;Z.NullTypes={DbNull:At.classes.DbNull,JsonNull:At.classes.JsonNull,AnyNull:At.classes.AnyNull};var Ke=require("path");pe.Prisma.TransactionIsolationLevel=cb({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"});pe.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified"};pe.Prisma.UserPromptsScalarFieldEnum={id:"id",prompt:"prompt",userId:"userId"};pe.Prisma.SortOrder={asc:"asc",desc:"desc"};pe.Prisma.QueryMode={default:"default",insensitive:"insensitive"};pe.Prisma.NullsOrder={first:"first",last:"last"};pe.Prisma.ModelName={User:"User",UserPrompts:"UserPrompts"};var he={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/Users/vivekkumar/Desktop/super-30/projects/dribble/packages/database/generated/client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0}],previewFeatures:[],sourceFilePath:"/Users/vivekkumar/Desktop/super-30/projects/dribble/packages/database/prisma/schema.prisma",isCustomOutput:!0},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../.env"},relativePath:"../../prisma",clientVersion:"6.19.0",engineVersion:"2ba551f319ab1df4bc874a89965d8b3641056773",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output   = "../generated/client"
}

model User {
  id            String        @id @default(cuid())
  name          String?
  email         String?       @unique
  emailVerified DateTime?
  userPrompts   UserPrompts[]
}

model UserPrompts {
  id     String @id @default(cuid())
  prompt String
  userId String
  user   User   @relation(fields: [userId], references: [id])
}
`,inlineSchemaHash:"00e9d05ce337b1a69565fec7614fa371ce06f8bebb03d127025accf2acf4b408",copyEngine:!0},lu=require("fs");he.dirname=__dirname;if(!lu.existsSync(Ke.join(__dirname,"schema.prisma"))){let e=["generated/client","client"],t=e.find(r=>lu.existsSync(Ke.join(process.cwd(),r,"schema.prisma")))??e[0];he.dirname=Ke.join(process.cwd(),t),he.isBundled=!0}he.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userPrompts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserPrompts","nativeType":null,"relationName":"UserToUserPrompts","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"UserPrompts":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"prompt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UserToUserPrompts","relationFromFields":["userId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}');db(pe.Prisma,he.runtimeDataModel);he.engineWasm=void 0;he.compilerWasm=void 0;var{warnEnvConflicts:hb}=es();hb({rootEnvPath:he.relativeEnvPaths.rootEnvPath&&Ke.resolve(he.dirname,he.relativeEnvPaths.rootEnvPath),schemaEnvPath:he.relativeEnvPaths.schemaEnvPath&&Ke.resolve(he.dirname,he.relativeEnvPaths.schemaEnvPath)});var pb=ib(he);pe.PrismaClient=pb;Object.assign(pe,Z);Ke.join(__dirname,"libquery_engine-darwin-arm64.dylib.node");Ke.join(process.cwd(),"generated/client/libquery_engine-darwin-arm64.dylib.node");Ke.join(__dirname,"schema.prisma");Ke.join(process.cwd(),"generated/client/schema.prisma")});var It=y((rs,hu)=>{var on=require("buffer"),Le=on.Buffer;function fu(e,t){for(var r in e)t[r]=e[r]}Le.from&&Le.alloc&&Le.allocUnsafe&&Le.allocUnsafeSlow?hu.exports=on:(fu(on,rs),rs.Buffer=yt);function yt(e,t,r){return Le(e,t,r)}yt.prototype=Object.create(Le.prototype);fu(Le,yt);yt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Le(e,t,r)};yt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Le(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};yt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Le(e)};yt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return on.SlowBuffer(e)}});var ns=y((a_,pu)=>{var ln=It().Buffer,mb=require("stream"),gb=require("util");function un(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=ln.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=ln.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}gb.inherits(un,mb);un.prototype.write=function(t){this.buffer=ln.concat([this.buffer,ln.from(t)]),this.emit("data",t)};un.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};pu.exports=un});var gu=y((o_,mu)=>{"use strict";function is(e){var t=(e/8|0)+(e%8===0?0:1);return t}var yb={ES256:is(256),ES384:is(384),ES512:is(521)};function wb(e){var t=yb[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}mu.exports=wb});var Pu=y((l_,Su)=>{"use strict";var cn=It().Buffer,wu=gu(),dn=128,vu=0,vb=32,bb=16,Eb=2,bu=bb|vb|vu<<6,fn=Eb|vu<<6;function Sb(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Eu(e){if(cn.isBuffer(e))return e;if(typeof e=="string")return cn.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function Pb(e,t){e=Eu(e);var r=wu(t),n=r+1,i=e.length,s=0;if(e[s++]!==bu)throw new Error('Could not find expected "seq"');var a=e[s++];if(a===(dn|1)&&(a=e[s++]),i-s<a)throw new Error('"seq" specified length of "'+a+'", only "'+(i-s)+'" remaining');if(e[s++]!==fn)throw new Error('Could not find expected "int" for "r"');var o=e[s++];if(i-s-2<o)throw new Error('"r" specified length of "'+o+'", only "'+(i-s-2)+'" available');if(n<o)throw new Error('"r" specified length of "'+o+'", max of "'+n+'" is acceptable');var l=s;if(s+=o,e[s++]!==fn)throw new Error('Could not find expected "int" for "s"');var u=e[s++];if(i-s!==u)throw new Error('"s" specified length of "'+u+'", expected "'+(i-s)+'"');if(n<u)throw new Error('"s" specified length of "'+u+'", max of "'+n+'" is acceptable');var c=s;if(s+=u,s!==i)throw new Error('Expected to consume entire buffer, but "'+(i-s)+'" bytes remain');var d=r-o,f=r-u,h=cn.allocUnsafe(d+o+f+u);for(s=0;s<d;++s)h[s]=0;e.copy(h,s,l+Math.max(-d,0),l+o),s=r;for(var g=s;s<g+f;++s)h[s]=0;return e.copy(h,s,c+Math.max(-f,0),c+u),h=h.toString("base64"),h=Sb(h),h}function yu(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var i=e[t+n]>=dn;return i&&--n,n}function xb(e,t){e=Eu(e);var r=wu(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var i=yu(e,0,r),s=yu(e,r,e.length),a=r-i,o=r-s,l=2+a+1+1+o,u=l<dn,c=cn.allocUnsafe((u?2:3)+l),d=0;return c[d++]=bu,u?c[d++]=l:(c[d++]=dn|1,c[d++]=l&255),c[d++]=fn,c[d++]=a,i<0?(c[d++]=0,d+=e.copy(c,d,0,r)):d+=e.copy(c,d,i,r),c[d++]=fn,c[d++]=o,s<0?(c[d++]=0,e.copy(c,d,r)):e.copy(c,d,r+s),c}Su.exports={derToJose:Pb,joseToDer:xb}});var Nu=y((u_,xu)=>{"use strict";var hr=require("buffer").Buffer,ss=require("buffer").SlowBuffer;xu.exports=hn;function hn(e,t){if(!hr.isBuffer(e)||!hr.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}hn.install=function(){hr.prototype.equal=ss.prototype.equal=function(t){return hn(this,t)}};var Nb=hr.prototype.equal,$b=ss.prototype.equal;hn.restore=function(){hr.prototype.equal=Nb,ss.prototype.equal=$b}});var us=y((c_,Du)=>{var Dt=It().Buffer,Ee=require("crypto"),_u=Pu(),$u=require("util"),_b=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,pr="secret must be a string or buffer",qt="key must be a string or a buffer",Tb="key must be a string, a buffer or an object",os=typeof Ee.createPublicKey=="function";os&&(qt+=" or a KeyObject",pr+="or a KeyObject");function Tu(e){if(!Dt.isBuffer(e)&&typeof e!="string"&&(!os||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw _e(qt)}function Ru(e){if(!Dt.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw _e(Tb)}function Rb(e){if(!Dt.isBuffer(e)){if(typeof e=="string")return e;if(!os||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw _e(pr)}}function ls(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ou(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function _e(e){var t=[].slice.call(arguments,1),r=$u.format.bind($u,e).apply(null,t);return new TypeError(r)}function Ob(e){return Dt.isBuffer(e)||typeof e=="string"}function mr(e){return Ob(e)||(e=JSON.stringify(e)),e}function Au(e){return function(r,n){Rb(n),r=mr(r);var i=Ee.createHmac("sha"+e,n),s=(i.update(r),i.digest("base64"));return ls(s)}}var as,Ab="timingSafeEqual"in Ee?function(t,r){return t.byteLength!==r.byteLength?!1:Ee.timingSafeEqual(t,r)}:function(t,r){return as||(as=Nu()),as(t,r)};function Ib(e){return function(r,n,i){var s=Au(e)(r,i);return Ab(Dt.from(n),Dt.from(s))}}function Iu(e){return function(r,n){Ru(n),r=mr(r);var i=Ee.createSign("RSA-SHA"+e),s=(i.update(r),i.sign(n,"base64"));return ls(s)}}function qu(e){return function(r,n,i){Tu(i),r=mr(r),n=Ou(n);var s=Ee.createVerify("RSA-SHA"+e);return s.update(r),s.verify(i,n,"base64")}}function qb(e){return function(r,n){Ru(n),r=mr(r);var i=Ee.createSign("RSA-SHA"+e),s=(i.update(r),i.sign({key:n,padding:Ee.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ee.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return ls(s)}}function Db(e){return function(r,n,i){Tu(i),r=mr(r),n=Ou(n);var s=Ee.createVerify("RSA-SHA"+e);return s.update(r),s.verify({key:i,padding:Ee.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ee.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function jb(e){var t=Iu(e);return function(){var n=t.apply(null,arguments);return n=_u.derToJose(n,"ES"+e),n}}function kb(e){var t=qu(e);return function(n,i,s){i=_u.joseToDer(i,"ES"+e).toString("base64");var a=t(n,i,s);return a}}function Cb(){return function(){return""}}function Lb(){return function(t,r){return r===""}}Du.exports=function(t){var r={hs:Au,rs:Iu,ps:qb,es:jb,none:Cb},n={hs:Ib,rs:qu,ps:Db,es:kb,none:Lb},i=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!i)throw _e(_b,t);var s=(i[1]||i[3]).toLowerCase(),a=i[2];return{sign:r[s](a),verify:n[s](a)}}});var cs=y((d_,ju)=>{var Vb=require("buffer").Buffer;ju.exports=function(t){return typeof t=="string"?t:typeof t=="number"||Vb.isBuffer(t)?t.toString():JSON.stringify(t)}});var Mu=y((f_,Fu)=>{var Fb=It().Buffer,ku=ns(),Mb=us(),Ub=require("stream"),Cu=cs(),ds=require("util");function Lu(e,t){return Fb.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bb(e,t,r){r=r||"utf8";var n=Lu(Cu(e),"binary"),i=Lu(Cu(t),r);return ds.format("%s.%s",n,i)}function Vu(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,s=Mb(t.alg),a=Bb(t,r,i),o=s.sign(a,n);return ds.format("%s.%s",a,o)}function pn(e){var t=e.secret;if(t=t??e.privateKey,t=t??e.key,/^hs/i.test(e.header.alg)===!0&&t==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var r=new ku(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new ku(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}ds.inherits(pn,Ub);pn.prototype.sign=function(){try{var t=Vu({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};pn.sign=Vu;Fu.exports=pn});var zu=y((h_,Qu)=>{var Bu=It().Buffer,Uu=ns(),Gb=us(),Hb=require("stream"),Gu=cs(),Kb=require("util"),Wb=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function Jb(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yb(e){if(Jb(e))return e;try{return JSON.parse(e)}catch{return}}function Hu(e){var t=e.split(".",1)[0];return Yb(Bu.from(t,"base64").toString("binary"))}function Qb(e){return e.split(".",2).join(".")}function Ku(e){return e.split(".")[2]}function zb(e,t){t=t||"utf8";var r=e.split(".")[1];return Bu.from(r,"base64").toString(t)}function Wu(e){return Wb.test(e)&&!!Hu(e)}function Ju(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=Gu(e);var i=Ku(e),s=Qb(e),a=Gb(t);return a.verify(s,i,r)}function Yu(e,t){if(t=t||{},e=Gu(e),!Wu(e))return null;var r=Hu(e);if(!r)return null;var n=zb(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:Ku(e)}}function jt(e){e=e||{};var t=e.secret;if(t=t??e.publicKey,t=t??e.key,/^hs/i.test(e.algorithm)===!0&&t==null)throw new TypeError("secret must be a string or buffer or a KeyObject");var r=new Uu(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new Uu(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}Kb.inherits(jt,Hb);jt.prototype.verify=function(){try{var t=Ju(this.signature.buffer,this.algorithm,this.key.buffer),r=Yu(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};jt.decode=Yu;jt.isValid=Wu;jt.verify=Ju;Qu.exports=jt});var gn=y(at=>{var Xu=Mu(),mn=zu(),Xb=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];at.ALGORITHMS=Xb;at.sign=Xu.sign;at.verify=mn.verify;at.decode=mn.decode;at.isValid=mn.isValid;at.createSign=function(t){return new Xu(t)};at.createVerify=function(t){return new mn(t)}});var fs=y((m_,Zu)=>{var Zb=gn();Zu.exports=function(e,t){t=t||{};var r=Zb.decode(e,t);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var i=JSON.parse(n);i!==null&&typeof i=="object"&&(n=i)}catch{}return t.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var gr=y((g_,ec)=>{var yn=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};yn.prototype=Object.create(Error.prototype);yn.prototype.constructor=yn;ec.exports=yn});var hs=y((y_,rc)=>{var tc=gr(),wn=function(e,t){tc.call(this,e),this.name="NotBeforeError",this.date=t};wn.prototype=Object.create(tc.prototype);wn.prototype.constructor=wn;rc.exports=wn});var ps=y((w_,ic)=>{var nc=gr(),vn=function(e,t){nc.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};vn.prototype=Object.create(nc.prototype);vn.prototype.constructor=vn;ic.exports=vn});var ac=y((v_,sc)=>{var kt=1e3,Ct=kt*60,Lt=Ct*60,wt=Lt*24,eE=wt*7,tE=wt*365.25;sc.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return rE(e);if(r==="number"&&isFinite(e))return t.long?iE(e):nE(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function rE(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*tE;case"weeks":case"week":case"w":return r*eE;case"days":case"day":case"d":return r*wt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Lt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ct;case"seconds":case"second":case"secs":case"sec":case"s":return r*kt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function nE(e){var t=Math.abs(e);return t>=wt?Math.round(e/wt)+"d":t>=Lt?Math.round(e/Lt)+"h":t>=Ct?Math.round(e/Ct)+"m":t>=kt?Math.round(e/kt)+"s":e+"ms"}function iE(e){var t=Math.abs(e);return t>=wt?bn(e,t,wt,"day"):t>=Lt?bn(e,t,Lt,"hour"):t>=Ct?bn(e,t,Ct,"minute"):t>=kt?bn(e,t,kt,"second"):e+" ms"}function bn(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var ms=y((b_,oc)=>{var sE=ac();oc.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=sE(e);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof e=="number"?r+e:void 0}});var yr=y((E_,lc)=>{"use strict";var aE="2.0.0",oE=Number.MAX_SAFE_INTEGER||9007199254740991,lE=16,uE=250,cE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];lc.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:lE,MAX_SAFE_BUILD_LENGTH:uE,MAX_SAFE_INTEGER:oE,RELEASE_TYPES:cE,SEMVER_SPEC_VERSION:aE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var wr=y((S_,uc)=>{"use strict";var dE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};uc.exports=dE});var Vt=y((Ve,cc)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:gs,MAX_SAFE_BUILD_LENGTH:fE,MAX_LENGTH:hE}=yr(),pE=wr();Ve=cc.exports={};var mE=Ve.re=[],gE=Ve.safeRe=[],v=Ve.src=[],yE=Ve.safeSrc=[],b=Ve.t={},wE=0,ys="[a-zA-Z0-9-]",vE=[["\\s",1],["\\d",hE],[ys,fE]],bE=e=>{for(let[t,r]of vE)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},_=(e,t,r)=>{let n=bE(t),i=wE++;pE(e,i,t),b[e]=i,v[i]=t,yE[i]=n,mE[i]=new RegExp(t,r?"g":void 0),gE[i]=new RegExp(n,r?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*");_("NUMERICIDENTIFIERLOOSE","\\d+");_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ys}*`);_("MAINVERSION",`(${v[b.NUMERICIDENTIFIER]})\\.(${v[b.NUMERICIDENTIFIER]})\\.(${v[b.NUMERICIDENTIFIER]})`);_("MAINVERSIONLOOSE",`(${v[b.NUMERICIDENTIFIERLOOSE]})\\.(${v[b.NUMERICIDENTIFIERLOOSE]})\\.(${v[b.NUMERICIDENTIFIERLOOSE]})`);_("PRERELEASEIDENTIFIER",`(?:${v[b.NONNUMERICIDENTIFIER]}|${v[b.NUMERICIDENTIFIER]})`);_("PRERELEASEIDENTIFIERLOOSE",`(?:${v[b.NONNUMERICIDENTIFIER]}|${v[b.NUMERICIDENTIFIERLOOSE]})`);_("PRERELEASE",`(?:-(${v[b.PRERELEASEIDENTIFIER]}(?:\\.${v[b.PRERELEASEIDENTIFIER]})*))`);_("PRERELEASELOOSE",`(?:-?(${v[b.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${v[b.PRERELEASEIDENTIFIERLOOSE]})*))`);_("BUILDIDENTIFIER",`${ys}+`);_("BUILD",`(?:\\+(${v[b.BUILDIDENTIFIER]}(?:\\.${v[b.BUILDIDENTIFIER]})*))`);_("FULLPLAIN",`v?${v[b.MAINVERSION]}${v[b.PRERELEASE]}?${v[b.BUILD]}?`);_("FULL",`^${v[b.FULLPLAIN]}$`);_("LOOSEPLAIN",`[v=\\s]*${v[b.MAINVERSIONLOOSE]}${v[b.PRERELEASELOOSE]}?${v[b.BUILD]}?`);_("LOOSE",`^${v[b.LOOSEPLAIN]}$`);_("GTLT","((?:<|>)?=?)");_("XRANGEIDENTIFIERLOOSE",`${v[b.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);_("XRANGEIDENTIFIER",`${v[b.NUMERICIDENTIFIER]}|x|X|\\*`);_("XRANGEPLAIN",`[v=\\s]*(${v[b.XRANGEIDENTIFIER]})(?:\\.(${v[b.XRANGEIDENTIFIER]})(?:\\.(${v[b.XRANGEIDENTIFIER]})(?:${v[b.PRERELEASE]})?${v[b.BUILD]}?)?)?`);_("XRANGEPLAINLOOSE",`[v=\\s]*(${v[b.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[b.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[b.XRANGEIDENTIFIERLOOSE]})(?:${v[b.PRERELEASELOOSE]})?${v[b.BUILD]}?)?)?`);_("XRANGE",`^${v[b.GTLT]}\\s*${v[b.XRANGEPLAIN]}$`);_("XRANGELOOSE",`^${v[b.GTLT]}\\s*${v[b.XRANGEPLAINLOOSE]}$`);_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${gs}})(?:\\.(\\d{1,${gs}}))?(?:\\.(\\d{1,${gs}}))?`);_("COERCE",`${v[b.COERCEPLAIN]}(?:$|[^\\d])`);_("COERCEFULL",v[b.COERCEPLAIN]+`(?:${v[b.PRERELEASE]})?(?:${v[b.BUILD]})?(?:$|[^\\d])`);_("COERCERTL",v[b.COERCE],!0);_("COERCERTLFULL",v[b.COERCEFULL],!0);_("LONETILDE","(?:~>?)");_("TILDETRIM",`(\\s*)${v[b.LONETILDE]}\\s+`,!0);Ve.tildeTrimReplace="$1~";_("TILDE",`^${v[b.LONETILDE]}${v[b.XRANGEPLAIN]}$`);_("TILDELOOSE",`^${v[b.LONETILDE]}${v[b.XRANGEPLAINLOOSE]}$`);_("LONECARET","(?:\\^)");_("CARETTRIM",`(\\s*)${v[b.LONECARET]}\\s+`,!0);Ve.caretTrimReplace="$1^";_("CARET",`^${v[b.LONECARET]}${v[b.XRANGEPLAIN]}$`);_("CARETLOOSE",`^${v[b.LONECARET]}${v[b.XRANGEPLAINLOOSE]}$`);_("COMPARATORLOOSE",`^${v[b.GTLT]}\\s*(${v[b.LOOSEPLAIN]})$|^$`);_("COMPARATOR",`^${v[b.GTLT]}\\s*(${v[b.FULLPLAIN]})$|^$`);_("COMPARATORTRIM",`(\\s*)${v[b.GTLT]}\\s*(${v[b.LOOSEPLAIN]}|${v[b.XRANGEPLAIN]})`,!0);Ve.comparatorTrimReplace="$1$2$3";_("HYPHENRANGE",`^\\s*(${v[b.XRANGEPLAIN]})\\s+-\\s+(${v[b.XRANGEPLAIN]})\\s*$`);_("HYPHENRANGELOOSE",`^\\s*(${v[b.XRANGEPLAINLOOSE]})\\s+-\\s+(${v[b.XRANGEPLAINLOOSE]})\\s*$`);_("STAR","(<|>)?=?\\s*\\*");_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var En=y((P_,dc)=>{"use strict";var EE=Object.freeze({loose:!0}),SE=Object.freeze({}),PE=e=>e?typeof e!="object"?EE:e:SE;dc.exports=PE});var ws=y((x_,pc)=>{"use strict";var fc=/^[0-9]+$/,hc=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;let r=fc.test(e),n=fc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},xE=(e,t)=>hc(t,e);pc.exports={compareIdentifiers:hc,rcompareIdentifiers:xE}});var se=y((N_,gc)=>{"use strict";var Sn=wr(),{MAX_LENGTH:mc,MAX_SAFE_INTEGER:Pn}=yr(),{safeRe:xn,t:Nn}=Vt(),NE=En(),{compareIdentifiers:vs}=ws(),bs=class e{constructor(t,r){if(r=NE(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>mc)throw new TypeError(`version is longer than ${mc} characters`);Sn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?xn[Nn.LOOSE]:xn[Nn.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Pn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Pn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Pn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Pn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Sn("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(Sn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return vs(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(Sn("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return vs(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?xn[Nn.PRERELEASELOOSE]:xn[Nn.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),vs(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};gc.exports=bs});var vt=y(($_,wc)=>{"use strict";var yc=se(),$E=(e,t,r=!1)=>{if(e instanceof yc)return e;try{return new yc(e,t)}catch(n){if(!r)return null;throw n}};wc.exports=$E});var bc=y((__,vc)=>{"use strict";var _E=vt(),TE=(e,t)=>{let r=_E(e,t);return r?r.version:null};vc.exports=TE});var Sc=y((T_,Ec)=>{"use strict";var RE=vt(),OE=(e,t)=>{let r=RE(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};Ec.exports=OE});var Nc=y((R_,xc)=>{"use strict";var Pc=se(),AE=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Pc(e instanceof Pc?e.version:e,r).inc(t,n,i).version}catch{return null}};xc.exports=AE});var Tc=y((O_,_c)=>{"use strict";var $c=vt(),IE=(e,t)=>{let r=$c(e,null,!0),n=$c(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,o=s?n:r,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}let c=l?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};_c.exports=IE});var Oc=y((A_,Rc)=>{"use strict";var qE=se(),DE=(e,t)=>new qE(e,t).major;Rc.exports=DE});var Ic=y((I_,Ac)=>{"use strict";var jE=se(),kE=(e,t)=>new jE(e,t).minor;Ac.exports=kE});var Dc=y((q_,qc)=>{"use strict";var CE=se(),LE=(e,t)=>new CE(e,t).patch;qc.exports=LE});var kc=y((D_,jc)=>{"use strict";var VE=vt(),FE=(e,t)=>{let r=VE(e,t);return r&&r.prerelease.length?r.prerelease:null};jc.exports=FE});var Se=y((j_,Lc)=>{"use strict";var Cc=se(),ME=(e,t,r)=>new Cc(e,r).compare(new Cc(t,r));Lc.exports=ME});var Fc=y((k_,Vc)=>{"use strict";var UE=Se(),BE=(e,t,r)=>UE(t,e,r);Vc.exports=BE});var Uc=y((C_,Mc)=>{"use strict";var GE=Se(),HE=(e,t)=>GE(e,t,!0);Mc.exports=HE});var $n=y((L_,Gc)=>{"use strict";var Bc=se(),KE=(e,t,r)=>{let n=new Bc(e,r),i=new Bc(t,r);return n.compare(i)||n.compareBuild(i)};Gc.exports=KE});var Kc=y((V_,Hc)=>{"use strict";var WE=$n(),JE=(e,t)=>e.sort((r,n)=>WE(r,n,t));Hc.exports=JE});var Jc=y((F_,Wc)=>{"use strict";var YE=$n(),QE=(e,t)=>e.sort((r,n)=>YE(n,r,t));Wc.exports=QE});var vr=y((M_,Yc)=>{"use strict";var zE=Se(),XE=(e,t,r)=>zE(e,t,r)>0;Yc.exports=XE});var _n=y((U_,Qc)=>{"use strict";var ZE=Se(),e1=(e,t,r)=>ZE(e,t,r)<0;Qc.exports=e1});var Es=y((B_,zc)=>{"use strict";var t1=Se(),r1=(e,t,r)=>t1(e,t,r)===0;zc.exports=r1});var Ss=y((G_,Xc)=>{"use strict";var n1=Se(),i1=(e,t,r)=>n1(e,t,r)!==0;Xc.exports=i1});var Tn=y((H_,Zc)=>{"use strict";var s1=Se(),a1=(e,t,r)=>s1(e,t,r)>=0;Zc.exports=a1});var Rn=y((K_,ed)=>{"use strict";var o1=Se(),l1=(e,t,r)=>o1(e,t,r)<=0;ed.exports=l1});var Ps=y((W_,td)=>{"use strict";var u1=Es(),c1=Ss(),d1=vr(),f1=Tn(),h1=_n(),p1=Rn(),m1=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return u1(e,r,n);case"!=":return c1(e,r,n);case">":return d1(e,r,n);case">=":return f1(e,r,n);case"<":return h1(e,r,n);case"<=":return p1(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};td.exports=m1});var nd=y((J_,rd)=>{"use strict";var g1=se(),y1=vt(),{safeRe:On,t:An}=Vt(),w1=(e,t)=>{if(e instanceof g1)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?On[An.COERCEFULL]:On[An.COERCE]);else{let l=t.includePrerelease?On[An.COERCERTLFULL]:On[An.COERCERTL],u;for(;(u=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",o=t.includePrerelease&&r[6]?`+${r[6]}`:"";return y1(`${n}.${i}.${s}${a}${o}`,t)};rd.exports=w1});var sd=y((Y_,id)=>{"use strict";var xs=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};id.exports=xs});var Pe=y((Q_,ud)=>{"use strict";var v1=/\s+/g,Ns=class e{constructor(t,r){if(r=E1(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof $s)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(v1," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!od(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&T1(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&$1)|(this.options.loose&&_1))+":"+t,i=ad.get(n);if(i)return i;let s=this.options.loose,a=s?ue[ae.HYPHENRANGELOOSE]:ue[ae.HYPHENRANGE];t=t.replace(a,L1(this.options.includePrerelease)),W("hyphen replace",t),t=t.replace(ue[ae.COMPARATORTRIM],P1),W("comparator trim",t),t=t.replace(ue[ae.TILDETRIM],x1),W("tilde trim",t),t=t.replace(ue[ae.CARETTRIM],N1),W("caret trim",t);let o=t.split(" ").map(d=>R1(d,this.options)).join(" ").split(/\s+/).map(d=>C1(d,this.options));s&&(o=o.filter(d=>(W("loose invalid filter",d,this.options),!!d.match(ue[ae.COMPARATORLOOSE])))),W("range list",o);let l=new Map,u=o.map(d=>new $s(d,this.options));for(let d of u){if(od(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let c=[...l.values()];return ad.set(n,c),c}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>ld(n,r)&&t.set.some(i=>ld(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new S1(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(V1(this.set[r],t,this.options))return!0;return!1}};ud.exports=Ns;var b1=sd(),ad=new b1,E1=En(),$s=br(),W=wr(),S1=se(),{safeRe:ue,t:ae,comparatorTrimReplace:P1,tildeTrimReplace:x1,caretTrimReplace:N1}=Vt(),{FLAG_INCLUDE_PRERELEASE:$1,FLAG_LOOSE:_1}=yr(),od=e=>e.value==="<0.0.0-0",T1=e=>e.value==="",ld=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},R1=(e,t)=>(e=e.replace(ue[ae.BUILD],""),W("comp",e,t),e=I1(e,t),W("caret",e),e=O1(e,t),W("tildes",e),e=D1(e,t),W("xrange",e),e=k1(e,t),W("stars",e),e),ce=e=>!e||e.toLowerCase()==="x"||e==="*",O1=(e,t)=>e.trim().split(/\s+/).map(r=>A1(r,t)).join(" "),A1=(e,t)=>{let r=t.loose?ue[ae.TILDELOOSE]:ue[ae.TILDE];return e.replace(r,(n,i,s,a,o)=>{W("tilde",e,n,i,s,a,o);let l;return ce(i)?l="":ce(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:ce(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:o?(W("replaceTilde pr",o),l=`>=${i}.${s}.${a}-${o} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,W("tilde return",l),l})},I1=(e,t)=>e.trim().split(/\s+/).map(r=>q1(r,t)).join(" "),q1=(e,t)=>{W("caret",e,t);let r=t.loose?ue[ae.CARETLOOSE]:ue[ae.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,o,l)=>{W("caret",e,i,s,a,o,l);let u;return ce(s)?u="":ce(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:ce(o)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(W("replaceCaret pr",l),s==="0"?a==="0"?u=`>=${s}.${a}.${o}-${l} <${s}.${a}.${+o+1}-0`:u=`>=${s}.${a}.${o}-${l} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${o}-${l} <${+s+1}.0.0-0`):(W("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${o}${n} <${s}.${a}.${+o+1}-0`:u=`>=${s}.${a}.${o}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${o} <${+s+1}.0.0-0`),W("caret return",u),u})},D1=(e,t)=>(W("replaceXRanges",e,t),e.split(/\s+/).map(r=>j1(r,t)).join(" ")),j1=(e,t)=>{e=e.trim();let r=t.loose?ue[ae.XRANGELOOSE]:ue[ae.XRANGE];return e.replace(r,(n,i,s,a,o,l)=>{W("xRange",e,n,i,s,a,o,l);let u=ce(s),c=u||ce(a),d=c||ce(o),f=d;return i==="="&&f&&(i=""),l=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(c&&(a=0),o=0,i===">"?(i=">=",c?(s=+s+1,a=0,o=0):(a=+a+1,o=0)):i==="<="&&(i="<",c?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${o}${l}`):c?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),W("xRange return",n),n})},k1=(e,t)=>(W("replaceStars",e,t),e.trim().replace(ue[ae.STAR],"")),C1=(e,t)=>(W("replaceGTE0",e,t),e.trim().replace(ue[t.includePrerelease?ae.GTE0PRE:ae.GTE0],"")),L1=e=>(t,r,n,i,s,a,o,l,u,c,d,f)=>(ce(n)?r="":ce(i)?r=`>=${n}.0.0${e?"-0":""}`:ce(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,ce(u)?l="":ce(c)?l=`<${+u+1}.0.0-0`:ce(d)?l=`<${u}.${+c+1}.0-0`:f?l=`<=${u}.${c}.${d}-${f}`:e?l=`<${u}.${c}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),V1=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(W(e[n].semver),e[n].semver!==$s.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var br=y((z_,md)=>{"use strict";var Er=Symbol("SemVer ANY"),Rs=class e{static get ANY(){return Er}constructor(t,r){if(r=cd(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Ts("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===Er?this.value="":this.value=this.operator+this.semver.version,Ts("comp",this)}parse(t){let r=this.options.loose?dd[fd.COMPARATORLOOSE]:dd[fd.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new hd(n[2],this.options.loose):this.semver=Er}toString(){return this.value}test(t){if(Ts("Comparator.test",t,this.options.loose),this.semver===Er||t===Er)return!0;if(typeof t=="string")try{t=new hd(t,this.options)}catch{return!1}return _s(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new pd(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new pd(this.value,r).test(t.semver):(r=cd(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||_s(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||_s(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};md.exports=Rs;var cd=En(),{safeRe:dd,t:fd}=Vt(),_s=Ps(),Ts=wr(),hd=se(),pd=Pe()});var Sr=y((X_,gd)=>{"use strict";var F1=Pe(),M1=(e,t,r)=>{try{t=new F1(t,r)}catch{return!1}return t.test(e)};gd.exports=M1});var wd=y((Z_,yd)=>{"use strict";var U1=Pe(),B1=(e,t)=>new U1(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));yd.exports=B1});var bd=y((eT,vd)=>{"use strict";var G1=se(),H1=Pe(),K1=(e,t,r)=>{let n=null,i=null,s=null;try{s=new H1(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new G1(n,r))}),n};vd.exports=K1});var Sd=y((tT,Ed)=>{"use strict";var W1=se(),J1=Pe(),Y1=(e,t,r)=>{let n=null,i=null,s=null;try{s=new J1(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new W1(n,r))}),n};Ed.exports=Y1});var Nd=y((rT,xd)=>{"use strict";var Os=se(),Q1=Pe(),Pd=vr(),z1=(e,t)=>{e=new Q1(e,t);let r=new Os("0.0.0");if(e.test(r)||(r=new Os("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let o=new Os(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||Pd(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||Pd(r,s))&&(r=s)}return r&&e.test(r)?r:null};xd.exports=z1});var _d=y((nT,$d)=>{"use strict";var X1=Pe(),Z1=(e,t)=>{try{return new X1(e,t).range||"*"}catch{return null}};$d.exports=Z1});var In=y((iT,Ad)=>{"use strict";var eS=se(),Od=br(),{ANY:tS}=Od,rS=Pe(),nS=Sr(),Td=vr(),Rd=_n(),iS=Rn(),sS=Tn(),aS=(e,t,r,n)=>{e=new eS(e,n),t=new rS(t,n);let i,s,a,o,l;switch(r){case">":i=Td,s=iS,a=Rd,o=">",l=">=";break;case"<":i=Rd,s=sS,a=Td,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(nS(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let c=t.set[u],d=null,f=null;if(c.forEach(h=>{h.semver===tS&&(h=new Od(">=0.0.0")),d=d||h,f=f||h,i(h.semver,d.semver,n)?d=h:a(h.semver,f.semver,n)&&(f=h)}),d.operator===o||d.operator===l||(!f.operator||f.operator===o)&&s(e,f.semver))return!1;if(f.operator===l&&a(e,f.semver))return!1}return!0};Ad.exports=aS});var qd=y((sT,Id)=>{"use strict";var oS=In(),lS=(e,t,r)=>oS(e,t,">",r);Id.exports=lS});var jd=y((aT,Dd)=>{"use strict";var uS=In(),cS=(e,t,r)=>uS(e,t,"<",r);Dd.exports=cS});var Ld=y((oT,Cd)=>{"use strict";var kd=Pe(),dS=(e,t,r)=>(e=new kd(e,r),t=new kd(t,r),e.intersects(t,r));Cd.exports=dS});var Fd=y((lT,Vd)=>{"use strict";var fS=Sr(),hS=Se();Vd.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((c,d)=>hS(c,d,r));for(let c of a)fS(c,t,r)?(s=c,i||(i=c)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let o=[];for(let[c,d]of n)c===d?o.push(c):!d&&c===a[0]?o.push("*"):d?c===a[0]?o.push(`<=${d}`):o.push(`${c} - ${d}`):o.push(`>=${c}`);let l=o.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return l.length<u.length?l:t}});var Kd=y((uT,Hd)=>{"use strict";var Md=Pe(),Is=br(),{ANY:As}=Is,Pr=Sr(),qs=Se(),pS=(e,t,r={})=>{if(e===t)return!0;e=new Md(e,r),t=new Md(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=gS(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},mS=[new Is(">=0.0.0-0")],Ud=[new Is(">=0.0.0")],gS=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===As){if(t.length===1&&t[0].semver===As)return!0;r.includePrerelease?e=mS:e=Ud}if(t.length===1&&t[0].semver===As){if(r.includePrerelease)return!0;t=Ud}let n=new Set,i,s;for(let h of e)h.operator===">"||h.operator===">="?i=Bd(i,h,r):h.operator==="<"||h.operator==="<="?s=Gd(s,h,r):n.add(h.semver);if(n.size>1)return null;let a;if(i&&s){if(a=qs(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let h of n){if(i&&!Pr(h,String(i),r)||s&&!Pr(h,String(s),r))return null;for(let g of t)if(!Pr(h,String(g),r))return!1;return!0}let o,l,u,c,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let h of t){if(c=c||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator===">"||h.operator===">="){if(o=Bd(i,h,r),o===h&&o!==i)return!1}else if(i.operator===">="&&!Pr(i.semver,String(h),r))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(l=Gd(s,h,r),l===h&&l!==s)return!1}else if(s.operator==="<="&&!Pr(s.semver,String(h),r))return!1}if(!h.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&c&&!i&&a!==0||f||d)},Bd=(e,t,r)=>{if(!e)return t;let n=qs(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Gd=(e,t,r)=>{if(!e)return t;let n=qs(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};Hd.exports=pS});var qn=y((cT,Yd)=>{"use strict";var Ds=Vt(),Wd=yr(),yS=se(),Jd=ws(),wS=vt(),vS=bc(),bS=Sc(),ES=Nc(),SS=Tc(),PS=Oc(),xS=Ic(),NS=Dc(),$S=kc(),_S=Se(),TS=Fc(),RS=Uc(),OS=$n(),AS=Kc(),IS=Jc(),qS=vr(),DS=_n(),jS=Es(),kS=Ss(),CS=Tn(),LS=Rn(),VS=Ps(),FS=nd(),MS=br(),US=Pe(),BS=Sr(),GS=wd(),HS=bd(),KS=Sd(),WS=Nd(),JS=_d(),YS=In(),QS=qd(),zS=jd(),XS=Ld(),ZS=Fd(),eP=Kd();Yd.exports={parse:wS,valid:vS,clean:bS,inc:ES,diff:SS,major:PS,minor:xS,patch:NS,prerelease:$S,compare:_S,rcompare:TS,compareLoose:RS,compareBuild:OS,sort:AS,rsort:IS,gt:qS,lt:DS,eq:jS,neq:kS,gte:CS,lte:LS,cmp:VS,coerce:FS,Comparator:MS,Range:US,satisfies:BS,toComparators:GS,maxSatisfying:HS,minSatisfying:KS,minVersion:WS,validRange:JS,outside:YS,gtr:QS,ltr:zS,intersects:XS,simplifyRange:ZS,subset:eP,SemVer:yS,re:Ds.re,src:Ds.src,tokens:Ds.t,SEMVER_SPEC_VERSION:Wd.SEMVER_SPEC_VERSION,RELEASE_TYPES:Wd.RELEASE_TYPES,compareIdentifiers:Jd.compareIdentifiers,rcompareIdentifiers:Jd.rcompareIdentifiers}});var zd=y((dT,Qd)=>{var tP=qn();Qd.exports=tP.satisfies(process.version,">=15.7.0")});var Zd=y((fT,Xd)=>{var rP=qn();Xd.exports=rP.satisfies(process.version,">=16.9.0")});var js=y((hT,ef)=>{var nP=zd(),iP=Zd(),sP={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},aP={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};ef.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let n=sP[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(nP)switch(r){case"ec":let i=t.asymmetricKeyDetails.namedCurve,s=aP[e];if(i!==s)throw new Error(`"alg" parameter "${e}" requires curve "${s}".`);break;case"rsa-pss":if(iP){let a=parseInt(e.slice(-3),10),{hashAlgorithm:o,mgf1HashAlgorithm:l,saltLength:u}=t.asymmetricKeyDetails;if(o!==`sha${a}`||l!==o)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(u!==void 0&&u>a>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var ks=y((pT,tf)=>{var oP=qn();tf.exports=oP.satisfies(process.version,"^6.12.0 || >=8.0.0")});var sf=y((mT,nf)=>{var G=gr(),lP=hs(),rf=ps(),uP=fs(),cP=ms(),dP=js(),fP=ks(),hP=gn(),{KeyObject:pP,createSecretKey:mP,createPublicKey:gP}=require("crypto"),Cs=["RS256","RS384","RS512"],yP=["ES256","ES384","ES512"],Ls=["RS256","RS384","RS512"],wP=["HS256","HS384","HS512"];fP&&(Cs.splice(Cs.length,0,"PS256","PS384","PS512"),Ls.splice(Ls.length,0,"PS256","PS384","PS512"));nf.exports=function(e,t,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let i;if(n?i=n:i=function(c,d){if(c)throw c;return d},r.clockTimestamp&&typeof r.clockTimestamp!="number")return i(new G("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return i(new G("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return i(new G("allowInvalidAsymmetricKeyTypes must be a boolean"));let s=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return i(new G("jwt must be provided"));if(typeof e!="string")return i(new G("jwt must be a string"));let a=e.split(".");if(a.length!==3)return i(new G("jwt malformed"));let o;try{o=uP(e,{complete:!0})}catch(c){return i(c)}if(!o)return i(new G("invalid token"));let l=o.header,u;if(typeof t=="function"){if(!n)return i(new G("verify must be called asynchronous if secret or public key is provided as a callback"));u=t}else u=function(c,d){return d(null,t)};return u(l,function(c,d){if(c)return i(new G("error in secret or public key callback: "+c.message));let f=a[2].trim()!=="";if(!f&&d)return i(new G("jwt signature is required"));if(f&&!d)return i(new G("secret or public key must be provided"));if(!f&&!r.algorithms)return i(new G('please specify "none" in "algorithms" to verify unsigned tokens'));if(d!=null&&!(d instanceof pP))try{d=gP(d)}catch{try{d=mP(typeof d=="string"?Buffer.from(d):d)}catch{return i(new G("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(d.type==="secret"?r.algorithms=wP:["rsa","rsa-pss"].includes(d.asymmetricKeyType)?r.algorithms=Ls:d.asymmetricKeyType==="ec"?r.algorithms=yP:r.algorithms=Cs),r.algorithms.indexOf(o.header.alg)===-1)return i(new G("invalid algorithm"));if(l.alg.startsWith("HS")&&d.type!=="secret")return i(new G(`secretOrPublicKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)&&d.type!=="public")return i(new G(`secretOrPublicKey must be an asymmetric key when using ${l.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{dP(l.alg,d)}catch(m){return i(m)}let h;try{h=hP.verify(e,o.header.alg,d)}catch(m){return i(m)}if(!h)return i(new G("invalid signature"));let g=o.payload;if(typeof g.nbf<"u"&&!r.ignoreNotBefore){if(typeof g.nbf!="number")return i(new G("invalid nbf value"));if(g.nbf>s+(r.clockTolerance||0))return i(new lP("jwt not active",new Date(g.nbf*1e3)))}if(typeof g.exp<"u"&&!r.ignoreExpiration){if(typeof g.exp!="number")return i(new G("invalid exp value"));if(s>=g.exp+(r.clockTolerance||0))return i(new rf("jwt expired",new Date(g.exp*1e3)))}if(r.audience){let m=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(g.aud)?g.aud:[g.aud]).some(function(I){return m.some(function(O){return O instanceof RegExp?O.test(I):O===I})}))return i(new G("jwt audience invalid. expected: "+m.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&g.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(g.iss)===-1))return i(new G("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&g.sub!==r.subject)return i(new G("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&g.jti!==r.jwtid)return i(new G("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&g.nonce!==r.nonce)return i(new G("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof g.iat!="number")return i(new G("iat required when maxAge is specified"));let m=cP(r.maxAge,g.iat);if(typeof m>"u")return i(new G('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(s>=m+(r.clockTolerance||0))return i(new rf("maxAge exceeded",new Date(m*1e3)))}if(r.complete===!0){let m=o.signature;return i(null,{header:l,payload:g,signature:m})}return i(null,g)})}});var df=y((gT,cf)=>{var af=1/0,lf=9007199254740991,vP=17976931348623157e292,of=NaN,bP="[object Arguments]",EP="[object Function]",SP="[object GeneratorFunction]",PP="[object String]",xP="[object Symbol]",NP=/^\s+|\s+$/g,$P=/^[-+]0x[0-9a-f]+$/i,_P=/^0b[01]+$/i,TP=/^0o[0-7]+$/i,RP=/^(?:0|[1-9]\d*)$/,OP=parseInt;function AP(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function IP(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function qP(e,t,r){if(t!==t)return IP(e,DP,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function DP(e){return e!==e}function jP(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function kP(e,t){return AP(t,function(r){return e[r]})}function CP(e,t){return function(r){return e(t(r))}}var Dn=Object.prototype,Fs=Dn.hasOwnProperty,jn=Dn.toString,LP=Dn.propertyIsEnumerable,VP=CP(Object.keys,Object),FP=Math.max;function MP(e,t){var r=uf(e)||KP(e)?jP(e.length,String):[],n=r.length,i=!!n;for(var s in e)(t||Fs.call(e,s))&&!(i&&(s=="length"||BP(s,n)))&&r.push(s);return r}function UP(e){if(!GP(e))return VP(e);var t=[];for(var r in Object(e))Fs.call(e,r)&&r!="constructor"&&t.push(r);return t}function BP(e,t){return t=t??lf,!!t&&(typeof e=="number"||RP.test(e))&&e>-1&&e%1==0&&e<t}function GP(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Dn;return e===r}function HP(e,t,r,n){e=Ms(e)?e:rx(e),r=r&&!n?ZP(r):0;var i=e.length;return r<0&&(r=FP(i+r,0)),QP(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&qP(e,t,r)>-1}function KP(e){return WP(e)&&Fs.call(e,"callee")&&(!LP.call(e,"callee")||jn.call(e)==bP)}var uf=Array.isArray;function Ms(e){return e!=null&&YP(e.length)&&!JP(e)}function WP(e){return Us(e)&&Ms(e)}function JP(e){var t=Vs(e)?jn.call(e):"";return t==EP||t==SP}function YP(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lf}function Vs(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Us(e){return!!e&&typeof e=="object"}function QP(e){return typeof e=="string"||!uf(e)&&Us(e)&&jn.call(e)==PP}function zP(e){return typeof e=="symbol"||Us(e)&&jn.call(e)==xP}function XP(e){if(!e)return e===0?e:0;if(e=ex(e),e===af||e===-af){var t=e<0?-1:1;return t*vP}return e===e?e:0}function ZP(e){var t=XP(e),r=t%1;return t===t?r?t-r:t:0}function ex(e){if(typeof e=="number")return e;if(zP(e))return of;if(Vs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(NP,"");var r=_P.test(e);return r||TP.test(e)?OP(e.slice(2),r?2:8):$P.test(e)?of:+e}function tx(e){return Ms(e)?MP(e):UP(e)}function rx(e){return e?kP(e,tx(e)):[]}cf.exports=HP});var hf=y((yT,ff)=>{var nx="[object Boolean]",ix=Object.prototype,sx=ix.toString;function ax(e){return e===!0||e===!1||ox(e)&&sx.call(e)==nx}function ox(e){return!!e&&typeof e=="object"}ff.exports=ax});var wf=y((wT,yf)=>{var pf=1/0,lx=17976931348623157e292,mf=NaN,ux="[object Symbol]",cx=/^\s+|\s+$/g,dx=/^[-+]0x[0-9a-f]+$/i,fx=/^0b[01]+$/i,hx=/^0o[0-7]+$/i,px=parseInt,mx=Object.prototype,gx=mx.toString;function yx(e){return typeof e=="number"&&e==Ex(e)}function gf(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function wx(e){return!!e&&typeof e=="object"}function vx(e){return typeof e=="symbol"||wx(e)&&gx.call(e)==ux}function bx(e){if(!e)return e===0?e:0;if(e=Sx(e),e===pf||e===-pf){var t=e<0?-1:1;return t*lx}return e===e?e:0}function Ex(e){var t=bx(e),r=t%1;return t===t?r?t-r:t:0}function Sx(e){if(typeof e=="number")return e;if(vx(e))return mf;if(gf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(cx,"");var r=fx.test(e);return r||hx.test(e)?px(e.slice(2),r?2:8):dx.test(e)?mf:+e}yf.exports=yx});var bf=y((vT,vf)=>{var Px="[object Number]",xx=Object.prototype,Nx=xx.toString;function $x(e){return!!e&&typeof e=="object"}function _x(e){return typeof e=="number"||$x(e)&&Nx.call(e)==Px}vf.exports=_x});var xf=y((bT,Pf)=>{var Tx="[object Object]";function Rx(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Ox(e,t){return function(r){return e(t(r))}}var Ax=Function.prototype,Ef=Object.prototype,Sf=Ax.toString,Ix=Ef.hasOwnProperty,qx=Sf.call(Object),Dx=Ef.toString,jx=Ox(Object.getPrototypeOf,Object);function kx(e){return!!e&&typeof e=="object"}function Cx(e){if(!kx(e)||Dx.call(e)!=Tx||Rx(e))return!1;var t=jx(e);if(t===null)return!0;var r=Ix.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Sf.call(r)==qx}Pf.exports=Cx});var $f=y((ET,Nf)=>{var Lx="[object String]",Vx=Object.prototype,Fx=Vx.toString,Mx=Array.isArray;function Ux(e){return!!e&&typeof e=="object"}function Bx(e){return typeof e=="string"||!Mx(e)&&Ux(e)&&Fx.call(e)==Lx}Nf.exports=Bx});var Af=y((ST,Of)=>{var Gx="Expected a function",_f=1/0,Hx=17976931348623157e292,Tf=NaN,Kx="[object Symbol]",Wx=/^\s+|\s+$/g,Jx=/^[-+]0x[0-9a-f]+$/i,Yx=/^0b[01]+$/i,Qx=/^0o[0-7]+$/i,zx=parseInt,Xx=Object.prototype,Zx=Xx.toString;function eN(e,t){var r;if(typeof t!="function")throw new TypeError(Gx);return e=sN(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}function tN(e){return eN(2,e)}function Rf(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rN(e){return!!e&&typeof e=="object"}function nN(e){return typeof e=="symbol"||rN(e)&&Zx.call(e)==Kx}function iN(e){if(!e)return e===0?e:0;if(e=aN(e),e===_f||e===-_f){var t=e<0?-1:1;return t*Hx}return e===e?e:0}function sN(e){var t=iN(e),r=t%1;return t===t?r?t-r:t:0}function aN(e){if(typeof e=="number")return e;if(nN(e))return Tf;if(Rf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Rf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Wx,"");var r=Yx.test(e);return r||Qx.test(e)?zx(e.slice(2),r?2:8):Jx.test(e)?Tf:+e}Of.exports=tN});var Ff=y((PT,Vf)=>{var If=ms(),oN=ks(),lN=js(),qf=gn(),uN=df(),kn=hf(),Df=wf(),Bs=bf(),kf=xf(),ot=$f(),cN=Af(),{KeyObject:dN,createSecretKey:fN,createPrivateKey:hN}=require("crypto"),Cf=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];oN&&Cf.splice(3,0,"PS256","PS384","PS512");var pN={expiresIn:{isValid:function(e){return Df(e)||ot(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return Df(e)||ot(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return ot(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:uN.bind(null,Cf),message:'"algorithm" must be a valid string enum value'},header:{isValid:kf,message:'"header" must be an object'},encoding:{isValid:ot,message:'"encoding" must be a string'},issuer:{isValid:ot,message:'"issuer" must be a string'},subject:{isValid:ot,message:'"subject" must be a string'},jwtid:{isValid:ot,message:'"jwtid" must be a string'},noTimestamp:{isValid:kn,message:'"noTimestamp" must be a boolean'},keyid:{isValid:ot,message:'"keyid" must be a string'},mutatePayload:{isValid:kn,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:kn,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:kn,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},mN={iat:{isValid:Bs,message:'"iat" should be a number of seconds'},exp:{isValid:Bs,message:'"exp" should be a number of seconds'},nbf:{isValid:Bs,message:'"nbf" should be a number of seconds'}};function Lf(e,t,r,n){if(!kf(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let s=e[i];if(!s){if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!s.isValid(r[i]))throw new Error(s.message)})}function gN(e){return Lf(pN,!1,e,"options")}function yN(e){return Lf(mN,!0,e,"payload")}var jf={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},wN=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];Vf.exports=function(e,t,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let i=typeof e=="object"&&!Buffer.isBuffer(e),s=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function a(u){if(n)return n(u);throw u}if(!t&&r.algorithm!=="none")return a(new Error("secretOrPrivateKey must have a value"));if(t!=null&&!(t instanceof dN))try{t=hN(t)}catch{try{t=fN(typeof t=="string"?Buffer.from(t):t)}catch{return a(new Error("secretOrPrivateKey is not valid key material"))}}if(s.alg.startsWith("HS")&&t.type!=="secret")return a(new Error(`secretOrPrivateKey must be a symmetric key when using ${s.alg}`));if(/^(?:RS|PS|ES)/.test(s.alg)){if(t.type!=="private")return a(new Error(`secretOrPrivateKey must be an asymmetric key when using ${s.alg}`));if(!r.allowInsecureKeySizes&&!s.alg.startsWith("ES")&&t.asymmetricKeyDetails!==void 0&&t.asymmetricKeyDetails.modulusLength<2048)return a(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`))}if(typeof e>"u")return a(new Error("payload is required"));if(i){try{yN(e)}catch(u){return a(u)}r.mutatePayload||(e=Object.assign({},e))}else{let u=wN.filter(function(c){return typeof r[c]<"u"});if(u.length>0)return a(new Error("invalid "+u.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof r.expiresIn<"u")return a(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof r.notBefore<"u")return a(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{gN(r)}catch(u){return a(u)}if(!r.allowInvalidAsymmetricKeyTypes)try{lN(s.alg,t)}catch(u){return a(u)}let o=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:i&&(e.iat=o),typeof r.notBefore<"u"){try{e.nbf=If(r.notBefore,o)}catch(u){return a(u)}if(typeof e.nbf>"u")return a(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof e=="object"){try{e.exp=If(r.expiresIn,o)}catch(u){return a(u)}if(typeof e.exp>"u")return a(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(jf).forEach(function(u){let c=jf[u];if(typeof r[u]<"u"){if(typeof e[c]<"u")return a(new Error('Bad "options.'+u+'" option. The payload already has an "'+c+'" property.'));e[c]=r[u]}});let l=r.encoding||"utf8";if(typeof n=="function")n=n&&cN(n),qf.createSign({header:s,privateKey:t,payload:e,encoding:l}).once("error",n).once("done",function(u){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&u.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`));n(null,u)});else{let u=qf.sign({header:s,payload:e,secret:t,encoding:l});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(s.alg)&&u.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${s.alg}`);return u}}});var Gs=y((xT,Mf)=>{Mf.exports={decode:fs(),verify:sf(),sign:Ff(),JsonWebTokenError:gr(),NotBeforeError:hs(),TokenExpiredError:ps()}});(function(){ta().config(Object.assign({},na(),sa()(process.argv)))})();var Js=lt(require("express"));var Ce={};rh(Ce,{prisma:()=>$e});var cu=lt(ts());bt(Ce,lt(ts()));var du=globalThis,$e=du.prisma||new cu.PrismaClient;process.env.NODE_ENV!=="production"&&(du.prisma=$e);var Bf=lt(require("express"));var Uf=lt(Gs());async function Hs(e,t){let{user:r}=e.body;if(console.log("user is : ",r),!r)return t.status(404).json({success:!1,message:"user not found"});try{let n=await $e.user.findUnique({where:{email:r.email}});console.log("existing user is : ",n);let i;n?i=await $e.user.update({where:{email:r.email},data:{name:n.name,email:n.email,id:n.id,emailVerified:n.emailVerified}}):i=await $e.user.create({data:{name:r.name,email:r.email,emailVerified:r.emailVerified}});let s={name:i.name,id:i.id,email:i.email},a=process.env.JWT_SECRET;if(console.log("secret is : ",a),!a)return t.status(500).json({success:!1,message:"Jwt secret not found"});let o=Uf.default.sign(s,a);if(console.log("token is : ",o),!o||o==" ")return t.status(500).json({success:!1,message:"No token found"});t.json({success:!0,user:i,token:o}),console.log({success:!0,user:i,token:o});return}catch(n){console.error(n),t.status(500).json({success:!1,error:"Authentication failed"});return}}var Gf=Bf.default.Router();Gf.post("/signin",Hs);var Hf=Gf;var Kf=lt(Gs());async function Ks(e,t,r){let n=e.headers.authorization;if(!n||n==""||!n.startsWith("Bearer "))return t.status(404).json({success:!1,message:"Auth header empty"});let i=n.split(" ")[1];if(!i)return t.status(404).json({success:!1,message:"Token invalid"});let s=process.env.JWT_SECRET;if(!s||s=="")return t.status(404).json({success:!1,message:"Jwt secret not found"});try{let a=Kf.default.verify(i,s);if(!a)return t.status(400).json({success:!1,message:"No user found"});e.user=a,r()}catch(a){return console.error(a),t.status(500).json({success:!1,message:"internal server error"})}}var Wf=lt(require("express"));async function Ws(e,t){let{prompt:r}=e.body;if(!r||r=="")return t.status(400).json({success:!1,message:"User prompt is empty"});let n=e.user;if(!n||typeof n=="string")return t.status(404).json({success:!1,message:"Not a valid uses"});let i=n.id;if(!i)return t.status(404).json({success:!1,message:"No user id found"});try{let s=await $e.userPrompts.create({data:{prompt:r,userId:i}});t.status(200).json({success:!0,response:s})}catch(s){return console.error(s),t.status(500).json({success:!1,message:"Internal server error"})}}var Jf=Wf.default.Router();Jf.post("/",Ws);var Yf=Jf;var Ft=(0,Js.default)(),Qf=process.env.PORT||3001;Ft.use(Js.default.json());Ft.use("/api/auth",Hf);Ft.use("/api/prompt",Ks,Yf);Ft.post("/api/users",async(e,t)=>{try{let{name:r,email:n}=e.body,i=await $e.user.create({data:{name:r,email:n}});t.status(201).json({success:!0,user:i})}catch(r){console.error("Error creating user:",r),t.status(500).json({success:!1,error:"Failed to create user"})}});Ft.get("/api/users",async(e,t)=>{let r=await $e.user.findMany();t.status(200).json({success:!0,message:"found all the users",user:r})});Ft.listen(Qf,()=>{console.log(`Server running on http://localhost:${Qf}`)});
/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.5.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map
